**Shannon's sampling theorem**: for $f\in C(\mathbb R)\cap L^1(\mathbb R)$ with $\hat f(\xi)=0,\forall|\xi|>c$, we have $$f(x)=\frac{1}{2c}\sum_{n\in\mathbb Z}f\left(\frac{n}{2c}\right)\frac{\sin(2\pi(cx-\frac{n}{2}))}{2\pi(cx-\frac{n}{2})}$$where the sum is uniformly convergent on $\mathbb R$.
**Proof**: by FT we have $f(x)=\int_{-c}^c\hat f(\xi)e^{2\pi i\xi x}d\xi$. Denote $g(\xi)=2c\hat f(\xi),|\xi|<c$, then by [[Fourier Series]] $$g(\xi)\sim\sum_{n\in\mathbb Z}C_g(n)e^{\pi in\xi/c},\quad C_g(n)=\frac{1}{2c}\int_{-c}^cg(\xi)e^{-\pi in\xi/c}d\xi=\int_{-c}^c\hat f(\xi)e^{-\pi in\xi/c}d\xi=f\left(-\frac{n}{2c}\right)$$We also consider $h(\xi)=e^{-2\pi i\xi x},|\xi|<c$ in the same way as $g$, i.e., $$h(\xi)\sim\sum_{n\in\mathbb Z}C_h(n)e^{\pi in\xi/c},\quad C_h(n)=\frac{1}{2c}\int_{-c}^ce^{-2\pi i\xi x}e^{-\pi in\xi/c}d\xi=\frac{\sin(2\pi(cx+\frac{n}{2}))}{2\pi(cx+\frac{n}{2})}$$Now by the polarized Parseval formula we have $$\begin{align}f(x)&=\frac{1}{2c}\int_{-c}^c2c\hat f(\xi)\overline{e^{-2\pi i\xi x}}=\frac{1}{2c}\int_{-c}^cg(\xi)\overline{h(\xi)}d\xi\\&=\frac{1}{2c}\sum_{n\in\mathbb Z}C_g(n)\overline{C_h(n)}=\frac{1}{2c}\sum_{n\in\mathbb Z}f\left(-\frac{n}{2c}\right)\overline{\frac{\sin(2\pi(cx+\frac{n}{2}))}{2\pi(cx+\frac{n}{2})}}\\&=\frac{1}{2c}\sum_{n\in\mathbb Z}f\left(\frac{n}{2c}\right)\frac{\sin(2\pi(cx-\frac{n}{2}))}{2\pi(cx-\frac{n}{2})}\end{align}$$The convergence is clear, since $g,h\in L^2$.

---
Below we generalize this result step by step. Some key assumptions includes:
- **Consistency condition**: error is acceptable, but for a reconstruction algorithm $\mathcal A$, we require that $\mathcal A(\mathcal A f)=f$, i.e., output can be reconstructed perfectly by the same algorithm.
## Finite sampling and reconstruction space
For a signal $f\in\mathcal H$, sampling vectors $\set{s_k}_{k=1}^N\subset\mathcal H$ with $\span(\set{s_k})=\mathcal S$, and reconstruction vectors $\set{w_k}_{k=1}^N\subset\mathcal H$ with $\span(\set{w_k})=\mathcal W$, the reconstruction process is as follows:
1. **Sampling**: $c:c_k=\langle s_k,f\rangle$ is the measurement of $f$ with the sampling vectors using inner product.
2. **Processing**: $d=Hc$ where $H\in\mathcal B(\mathbb C^n)$ is to be found.
3. **Reconstruction**: $\hat f=Wd$ with $d$ as coefficients for the reconstruction vectors.
Denote $\hat f$ the reconstructed signal, then since $a=X^*y\Rightarrow a_k=\langle x_k,y\rangle$ we have $$\hat f=Wd=WHc=WHS^*f$$We should require $\hat f=f,\forall f\in\mathcal W$, which would implies $\mathcal W\cap\mathcal S^\perp=\set{0}$, since any vector within $\mathcal W\cap\mathcal S^\perp$ would have $c=0$, which is impossible to be reconstructed. Notice $\dim\mathcal W=\dim\mathcal S$, thus $\mathcal H=\mathcal W\oplus\mathcal S^\perp$.
- **Consistent reconstruction must be oblique projection**: $\hat f$ is consistent reconstruction iff $\hat f=E_{\mathcal W\mathcal S^\perp}f$ where the **oblique projection** $E_{\mathcal W\mathcal S^\perp}$ is the unique operator that satisfies $$\im E_{\mathcal W\mathcal S^\perp}=\mathcal W,\ker E_{\mathcal W\mathcal S^\perp}=\mathcal S^\perp;\qquad E_{\mathcal W\mathcal S^\perp}w=w,\quad\forall w\in\mathcal W;\qquad E_{\mathcal W\mathcal S^\perp}v=0,\quad\forall v\in\mathcal S^\perp$$**Proof**: consistency condition of course requires $WHS^*$ to be a projection which is an identity when restricted on $\mathcal W$, and it's easy to see that other conditions should also be satisfied. The converse is also obvious.
- **Reconstruction scheme**: $H=(S^*W)^\dagger$ where $\dagger$ denotes the Moore-Penrose pseudoinverse, is the transform for a consistent reconstruction.
  **Proof**: denote $G=W(S^*W)^\dagger S^*$, and we'll show that it satisfies the consistency condition. For any $w\in\mathcal W$ it can be expressed as $w=Wa,a\in\mathbb C^N$, thus $$Gw=W(S^*W)^\dagger S^*Wa=WPa\quad\text{where }\quad P\text{ the orthogonal projection onto }\ker(S^*W)^\perp$$Since $S^*Wx=0$ iff $Wx=0$, thus $\ker(S^*W)=\ker W$. Then $$Gw=WP_{(\ker W)^\perp}a=Wa=w$$Next, since $s_k\in\mathcal S$, we have $S^*v=0,\forall v\in\mathcal S^\perp$, and $Gv=0$, which satisfies the consistency condition, thus $G=E_{\mathcal W\mathcal S^\perp}$.
- **Oblique pseudoinverse**: for $T:K\to U$ with $K=G\oplus\ker T,U=Z\oplus\im T$, we call $T_{GZ}^\#$ with $$TT_{GZ}^\#=E_{\im TZ},\quad T_{GZ}^\#T=E_{G\ker T},\quad\im T_{GZ}^\#=G$$as the **oblique pseudoinverse** of $T$ on $G$ along $Z$. Its action is depicted below:![[Pasted image 20250222124430.png]]From previous reasoning we know that $$W_{\mathcal V\mathcal S^\perp}^\#=(S^*W)^\dagger S^*$$Now we have $\hat f=Wd\iff d=W_{\mathcal V\mathcal S^\perp}^\#f$, thus $d_k=\langle v_k,f\rangle$ where $v_k$ are vectors in $(W_{\mathcal V\mathcal S^\perp}^\#)^*$.
## Infinite space
$\set{h_i}\subset\mathcal H$ is called a **frame** if there exists $-<a\le b<\infty$ such that $$a\|h\|^2\le\sum_i|\langle h,h_i\rangle|^2\le b\|h\|^2,\quad\forall h\in\mathcal H$$