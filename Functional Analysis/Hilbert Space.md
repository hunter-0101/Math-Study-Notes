**Motivation**: several problems motivates the development and study of Hilbert space:
- **Solving PDE**: motivated by [[Fourier Series]], it's realized early that finding the "eigen-function" of a differential operator $L$ is a critical step in solving PDE. 
- **Generalizing $L^p$ space**: in the study of $L^2$ space ([[Lp Space]]) many interesting properties were observed to be shared with general Euclidean [[Vector Space]], in particular its inner product $\int f\cdot\overline g$. Further, concepts like orthonormal set of functions, spectral decompositions makes sense, which motivates the development of theory about Hilbert space. 
Later, it's observed that this theory provide a perfect mathematical framework for quantum mechanics, bringing it a new life.

---
A **Hilbert space** is an [[Inner Product Space]] over $\mathbb R$ or $\mathbb C$ that is also a [[Banach Space]] w.r.t the metric induced by the inner product. 
- **Pre-Hilbert space**: a Hilbert space without completeness assumption is called **pre-Hilbert**. This notion is actually equivalent to an inner product space, and we use it to indicate that we're interested in whether the space is indeed complete.  
- **Weak convergence**: in separable $\mathcal H$, $\set{u_n}$ converges weakly to $u$, denoted $u_n\wto u$, if $\langle u_n,v\rangle\to\langle u,v\rangle$ for all $v\in \mathcal H$. $u$ is called the weak limit.
	- **Weak Heine-Borel theorem**: since weak convergence is equivalent to component-wise convergence under orthonormal basis expansion, in separable $\mathcal H$ any bounded sequence has a weakly convergent sub-sequence (using [[Diagonal Argument]]). Intuitive it's saying that closed and bounded sets is weakly compact. [[Metric Space]]
	- For $u_n\wto u$ we have $\|u\|\le\liminf\|u_n\|$, and the inequality is strict when the convergence is not strong.
	- **Example**: in $L^2(\mathbb T)$ the functions $\set{\sin nx}_{n\in\mathbb N}$ converges weakly to $0$ by the Riemann-Lebesgue lemma. [[Fourier Series]]
	- **Weak + norm implies strong convergence**: given $u_n\wto u,\|u_n\|\to\|u\|$,  we have $$\begin{align}\|u_n-u\|&=\braket{u_n-u,u_n-u}\\&=\|u_n\|^2+\|u\|^2-2\Re\braket{u_n,u}\\&\to\|u\|^2+\|u\|^2-2\|u\|^2=0\end{align}$$hence the result follows. 
- **Classification of separable Hilbert space**: any finite dimensional Hilbert space is isomorphic to $\mathbb C^n$. Any infinite-dimensional separable Hilbert space $\mathcal H$ is isometrically isomorphic to $\ell^2(\mathbb N)$.
  **Proof**: by Parseval's identity for any $u\in H$ we can write $\|u\|=(\sum_{n\in\mathbb N}|\langle u,e_n\rangle|^2)^{1/2}$. Now define $Tu=\set{\langle u,e_n\rangle}_{n\in\mathbb N}$, then it can be verified that $Tu\in\ell ^2$ and $T$ satisfies the required properties.
- **Bessel's inequality**: let $U=\set{u_\alpha|\alpha\in I}\subset H$ be an orthonormal set and $x\in H$, then we have $$\sum_{\alpha\in I}|\langle u_\alpha,x\rangle|^2\le \|x\|^2$$and we can always find the orthogonal component by the following convergent sum $$x_U=\sum_{\alpha\in I}\langle u_\alpha,x\rangle u_\alpha,\quad x-x_U\in U^\perp$$**Proof**: by orthonormality, for any finite subset $J\subset I$ we have $$\left\|x-\sum_{\alpha\in J}\langle u_\alpha,x\rangle u_\alpha\right\|^2=\left\langle x-\sum_{\alpha\in J}\langle u_\alpha,x\rangle u_\alpha,x-\sum_{\alpha\in J}\langle u_\alpha,x\rangle u_\alpha\right\rangle=\|x\|^2-\sum_{\alpha\in J}|\langle u_\alpha,x\rangle|^2$$The inequality directly follows, and perpendicularity can be verified through inner product.
## Closed subspace
Note that there is no non-trivial open subspace of a vector space since any such non-empty subspace must contain a small ball containing $0$, hence containing entire $\mathcal H$ by linearity.
- **Orthogonal projection**: for any $u\in\mathcal H$ and closed $S\subset\mathcal H$ there exists a unique $s_0\in S$ s.t. $$\|u-s_0\|=\inf_{s\in S}\|u-s\|\quad\text{and}\quad\langle u-s_0,s\rangle=0,\quad\forall s\in S$$**Proof**: applying the Parallelogram law to $u-s_n,u-s_m$ shows that $\set{s_n}$ is Cauchy, hence $s_0=\lim s_n$ exists and $s_0\in S$. $\langle u-s_0,s\rangle=0$ for $s\in S$ can be shown by considering a perturbation of $s_0$ by $\varepsilon s,i\varepsilon s$; uniqueness follows from application of Pythagorean theorem.
- **Orthogonal complement**: given subspace $S\subset \mathcal H$ define $$S^\perp=\set{s'\in\mathcal H:\langle s',s\rangle=0,\forall s\in S}$$clearly $S^\perp$ is also a subspace with $S^\perp\cap S=\set{0}$, and it's always closed by continuity of inner product. Moreover if $S$ is also closed then $$\mathcal H=S\oplus S^\perp$$in the sense that any $u\in\mathcal H$ can be expressed **uniquely** as sum of elements in $S$ and $S^\perp$, since we can pick $u=P_S(u)+(u-P_{S}(u))$ and notice that $u-P_S(u)\in S^\perp$. We define such $P_S$ as an **orthogonal projection**.
	- **Properties**: $P:u\mapsto P_S(u)$ is linear, and $\|P_S(u)\|\le\|u\|$. $P^2=P^*=P$.
	- **Criterion**: if $P\in\mathcal B(\mathcal H)$ satisfies $P^2=P^*=P$ then $P$ is an orthogonal projection. Note that if we don't have $P^*=P$ then the projection might be oblique.
	- **Composition**: for two orthogonal projections $P_1,P_2$, the composition $P_1P_2$ is another orthogonal projection iff $P_1P_2=P_2P_1$.
	- **Closure of subspace**: $\overline S=(S^\perp)^\perp$ is the smallest closed subspace that contains $S$. In general given $S_n\subset\mathcal H,S_n\perp S_m$ we can use $(\bigoplus \overline{S_n})^\perp$ to construct the complement of $\bigoplus S_n$.
	- **Orthogonal complement of intersection/sum**: for any index set $I$ we have that $$\left(\sum_{i\in I} S_i\right)^\perp=\bigcap_{i\in I} S_i^\perp,\quad\left(\bigcap_{i\in I} S_i\right)^\perp=\overline{\sum_{i\in I} S_i^\perp}$$The first equality is obvious, while the second can be obtained by taking orthogonal complements on both sides of the first equality.
## Compactness
A subset $K\subset X$ of a [[Metric Space]] is compact if every sequence of elements in $K$ has a subsequence converging to an element of $K$. 
- **Equi-small tail**: for subset of Hilbert space $K\subset\mathcal H$, $K$ has equi-small tails w.r.t. a countable orthonormal subset $\set{s_n}$ if for all $\varepsilon>0$ there exists $N\in\mathbb N$ such that $$\sum_{k>N}|\langle v,e_k\rangle|^2<\varepsilon^2,\quad\forall v\in K$$This is stronger than Bessel inequality since its convergence is **uniform**. 
	- For $\set{v_n}\to v$ and $\set{e_n}$ a countable orthonormal subset, $K=\set{v_n:n\in\mathbb N}\cup\set{v}$ is compact, and $K$ has equi-small tails w.r.t $\set{e_n}$.
	  **Proof**: compactness is obvious. For the equi-small tails, note that $v_n$ is close enough to $v$ for large $n$, thus for any $\varepsilon$ we may use $v$ to cover all but finitely many $v_n$'s, and take a maximum over finitely many elements to obtain a uniform bound.
- **Criterion for compactness**: for separable Hilbert space $H$ and orthonormal basis $\set{e_n}$, a subset $K\subset H$ is compact iff $K$ is closed, bounded, and has equi-small tails w.r.t $\set{e_n}$.
  **Proof**: compact $K$ is of course closed and bounded, and using the above theorem we can show its equi-small tails by contradiction. For the converse, for any sequence $\set{u_n}$ since $$|\langle u_n,e_k\rangle|\le\|u_n\|\cdot\|e_k\|\le C,\quad\forall k,n\in\mathbb N$$the sequence $\set{\langle u_n,e_k\rangle}_{n\in\mathbb N}$ is bounded, thus has a convergent subsequence. Loop the process over $k\in\mathbb N$ yields a table of $n$-$k$ axis, then it suffices to show that its diagonal sequence converges, which is quite easy using some estimation.
	- **Equivalent condition**: we may replace the equi-small tails condition with existence of finite-dimensional subspace $W\subset H$ such that $\inf_{w\in W}\|u-w\|<\varepsilon,\forall u\in K$ given any $\varepsilon$.