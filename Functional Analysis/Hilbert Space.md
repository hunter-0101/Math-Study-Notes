**Motivation**: several problems motivates the development and study of Hilbert space:
- **Solving PDE**: motivated by [[Fourier Series]], it's realized early that finding the "eigen-function" of a differential operator $L$ is a critical step in solving PDE. 
- **Generalizing $L^p$ space**: in the study of $L^2$ space ([[Lp Space]]) many interesting properties were observed to be shared with general Euclidean [[Vector Space]], in particular its inner product $\int f\cdot\overline g$. Further, concepts like orthonormal set of functions, spectral decompositions makes sense, which motivates the development of theory about Hilbert space. 
Later, it's observed that this theory provide a perfect mathematical framework for quantum mechanics, bringing it a new life.

---
**Hilbert space** is a real or complex [[Inner Product Space]] that is also a complete [[Metric Space]] with respect to the metric induced by the inner product. It's a [[Banach Space]] with an additional inner product that allows the discussion of orthonormal basis, unitary operators, etc.. If completeness is not guaranteed we call it **pre-Hilbert**.
- **Completion of pre-Hilbert**: given a pre-Hilbert $\mathcal H_0$ with $\langle\cdot,\cdot\rangle_0$ there exists a Hilbert space $\mathcal H$ s.t. $\mathcal H_0$ is dense in $\mathcal H$ and their inner products agree on $\mathcal H_0$.
  **Proof**: similar to [[Real Number System]], for two Cauchy $\set{u_n},\set{v_n}\subset \mathcal H_0$ define $$\set{u_n}\sim\set{v_n}\quad\iff\quad u_n-v_n\to0$$Take $\mathcal H=\mathcal H_0^{\mathbb N}/\sim$. Now the space $\mathcal H$ inherits the structure of vector space with inner product $\langle u,v\rangle_H=\lim\langle u_n,v_n\rangle_{H_0}$, and it can be verified that all required properties are satisfied. In particular, completeness follows by an [[Diagonal Argument]] $$F^k=\set{f_n^k}\to F\quad\text{where}\quad F=\set{f_{n(k)}^k}\in \mathcal H$$Note that the completion is unique up to unitary isomorphism by continuity of norm.
- **Relation with normed space**: normed space must be [[Vector Space]], but definition of inner product further imposes bi-linearity and positivity.
	- **Counterexamples**: for those $p\neq2$, $\ell^p$ space cannot be endowed with an inner product. [[Lp Space]]
- **Weak convergence**: in separable $\mathcal H$, $\set{u_n}$ converges weakly to $u$, denoted $u_n\wto u$, if $\langle u_n,v\rangle\to\langle u,v\rangle$ for all $v\in \mathcal H$. $u$ is called the weak limit.
	- **Weak Heine-Borel theorem**: since weak convergence is equivalent to component-wise convergence under orthonormal basis expansion, in separable $\mathcal H$ any bounded sequence has a weakly convergent sub-sequence (using [[Diagonal Argument]]). Intuitive it's saying that closed and bounded sets is weakly compact. [[Metric Space]]
	- For $u_n\wto u$ we have $\|u\|\le\liminf\|u_n\|$, and the inequality is strict when the convergence is not strong.
	- **Example**: in $L^2(\mathbb T)$ the functions $\set{\sin nx}_{n\in\mathbb N}$ converges weakly to $0$ by the Riemann-Lebesgue lemma. [[Fourier Series]]
	- **Weak + norm implies strong convergence**: given $u_n\wto u,\|u_n\|\to\|u\|$,  we have $$\begin{align}\|u_n-u\|&=\braket{u_n-u,u_n-u}\\&=\|u_n\|^2+\|u\|^2-2\Re\braket{u_n,u}\\&\to\|u\|^2+\|u\|^2-2\|u\|^2=0\end{align}$$hence the result follows. 
- **Classification of separable Hilbert space**: any finite dimensional Hilbert space is isomorphic to $\mathbb C^n$. Any infinite-dimensional separable Hilbert space $\mathcal H$ is isometrically isomorphic to $\ell^2(\mathbb N)$.
  **Proof**: by Parseval's identity for any $u\in H$ we can write $\|u\|=(\sum_{n\in\mathbb N}|\langle u,e_n\rangle|^2)^{1/2}$. Now define $Tu=\set{\langle u,e_n\rangle}_{n\in\mathbb N}$, then it can be verified that $Tu\in\ell ^2$ and $T$ satisfies the required properties.
## Inner product
Refer to [[Inner Product Space]] for detailed discussion. Below We'll assume $F=\mathbb C$ whose involution is given by the conjugation $\overline z=z^*$.
- **Bessel's inequality**: let $U=\set{u_\alpha|\alpha\in I}\subset H$ be an orthonormal set and $x\in H$, then we have $$\sum_{\alpha\in I}|\langle u_\alpha,x\rangle|^2\le \|x\|^2$$and we can always find the orthogonal component by the following convergent sum $$x_U=\sum_{\alpha\in I}\langle u_\alpha,x\rangle u_\alpha,\quad x-x_U\in U^\perp$$**Proof**: by orthonormality, for any finite subset $J\subset I$ we have $$\left\|x-\sum_{\alpha\in J}\langle u_\alpha,x\rangle u_\alpha\right\|^2=\left\langle x-\sum_{\alpha\in J}\langle u_\alpha,x\rangle u_\alpha,x-\sum_{\alpha\in J}\langle u_\alpha,x\rangle u_\alpha\right\rangle=\|x\|^2-\sum_{\alpha\in J}|\langle u_\alpha,x\rangle|^2$$The inequality directly follows, and perpendicularity can be verified through inner product.
- **Jordan-von Neumann theorem**: for any pre-Hilbert $\mathcal H_0$ and $u,v\in\mathcal H_0$ we have the **parallelogram law** $$\|u+v\|^2+\|u-v\|^2=2(\|u\|^2+\|v\|^2)$$Conversely any normed vector space $\mathcal H_0$ is pre-Hilbert if the identity is satisfied, with inner product recovered by the **polarization identity** $$\begin{cases}\Re\braket{u,v}=\frac{1}{4}(\|u+v\|^2-\|u-v\|^2)\\\braket{u,v}=\Re\braket{u,v}+i\Re\braket{u,iv}\end{cases}\quad\text{or}\quad\langle u,v\rangle=\frac{1}{4}\sum_{k=0}^3i^k\|u+i^kv\|^2$$satisfying all required properties. 
	- **Polarization inequality**: given any normed vector space $(X,\|\cdot\|)$ define $$C_{u,v}=\frac{\|u+v\|^2+\|u-v\|^2}{2(\|u\|^2+\|v\|^2)},\quad\forall u,v\in X$$let $a=\inf C_{u,v},b=\sup C_{u,v}$, then $\frac{1}{2}\le a\le 1\le b\le 2$ with $ab=1$. Further, it can be induced by an inner product iff $a=b=1$. Here $b$ is the **von Neumann constant**.
	  **Proof**: all inequalities follows from triangle inequality, and the fact that $ab=1$ follows from the observation that $C_{u+v,u-v}=1/C_{u,v}$.
## Closed subspace
A subspace $S\subset\mathcal H$ is closed if for any $\set{s_n}\subset S,\set{s_n}\to s$ we have $s\in S$. Note that there is no non-trivial open subspace of a vector space since any such non-empty subspace must contain a small ball containing $0$, hence containing entire $\mathcal H$ by linearity.
- **Orthogonal projection**: for any $u\in\mathcal H$ and closed $S\subset\mathcal H$ there exists a unique $s_0\in S$ s.t. $$\|u-s_0\|=\inf_{s\in S}\|u-s\|\quad\text{and}\quad\langle u-s_0,s\rangle=0,\quad\forall s\in S$$**Proof**: applying the Parallelogram law to $u-s_n,u-s_m$ shows that $\set{s_n}$ is Cauchy, hence $s_0=\lim s_n$ exists and $s_0\in S$. $\langle u-s_0,s\rangle=0$ for $s\in S$ can be shown by considering a perturbation of $s_0$ by $\varepsilon s,i\varepsilon s$; uniqueness follows from application of Pythagorean theorem.
- **Orthogonal complement**: given subspace $S\subset \mathcal H$ define $$S^\perp=\set{s'\in\mathcal H:\langle s',s\rangle=0,\forall s\in S}$$clearly $S^\perp$ is also a subspace with $S^\perp\cap S=\set{0}$, and it's always closed by continuity of inner product. Moreover if $S$ is also closed then $$\mathcal H=S\oplus S^\perp$$in the sense that any $u\in\mathcal H$ can be expressed **uniquely** as sum of elements in $S$ and $S^\perp$, since we can pick $u=P_S(u)+(u-P_{S}(u))$ and notice that $u-P_S(u)\in S^\perp$. We define such $P_S$ as an **orthogonal projection**.
	- **Properties**: $P:u\mapsto P_S(u)$ is linear, and $\|P_S(u)\|\le\|u\|$. $P^2=P^*=P$.
	- **Criterion**: if $P\in\mathcal B(\mathcal H)$ satisfies $P^2=P^*=P$ then $P$ is an orthogonal projection. Note that if we don't have $P^*=P$ then the projection might be oblique.
	- **Composition**: for two orthogonal projections $P_1,P_2$, the composition $P_1P_2$ is another orthogonal projection iff $P_1P_2=P_2P_1$.
	- **Closure of subspace**: $\overline S=(S^\perp)^\perp$ is the smallest closed subspace that contains $S$. In general given $S_n\subset\mathcal H,S_n\perp S_m$ we can use $(\bigoplus \overline{S_n})^\perp$ to construct the complement of $\bigoplus S_n$.
	- **Orthogonal complement of intersection/sum**: for any index set $I$ we have that $$\left(\sum_{i\in I} S_i\right)^\perp=\bigcap_{i\in I} S_i^\perp,\quad\left(\bigcap_{i\in I} S_i\right)^\perp=\overline{\sum_{i\in I} S_i^\perp}$$The first equality is obvious, while the second can be obtained by taking orthogonal complements on both sides of the first equality.
## Compactness
A subset $K\subset X$ of a [[Metric Space]] is compact if every sequence of elements in $K$ has a subsequence converging to an element of $K$. 
- **Equi-small tail**: for subset of Hilbert space $K\subset\mathcal H$, $K$ has equi-small tails w.r.t. a countable orthonormal subset $\set{s_n}$ if for all $\varepsilon>0$ there exists $N\in\mathbb N$ such that $$\sum_{k>N}|\langle v,e_k\rangle|^2<\varepsilon^2,\quad\forall v\in K$$This is stronger than Bessel inequality since its **converges is uniform**.
	- For $\set{v_n}\to v$ and $\set{e_n}$ a countable orthonormal subset, $K=\set{v_n:n\in\mathbb N}\cup\set{v}$ is compact, and $K$ has equi-small tails w.r.t $\set{e_n}$.
	  **Proof**: compactness is obvious. For the equi-small tails, note that $v_n$ is close enough to $v$ for large $n$, thus for any $\varepsilon$ we may use $v$ to cover all but finitely many $v_n$'s, and take a maximum over finitely many elements to obtain a uniform bound.
- **Criterion for compactness**: for separable Hilbert space $H$ and orthonormal basis $\set{e_n}$, a subset $K\subset H$ is compact iff $K$ is closed, bounded, and has equi-small tails w.r.t $\set{e_n}$.
  **Proof**: compact $K$ is of course closed and bounded, and using the above theorem we can show its equi-small tails by contradiction. For the converse, for any sequence $\set{u_n}$ since $$|\langle u_n,e_k\rangle|\le\|u_n\|\cdot\|e_k\|\le C,\quad\forall k,n\in\mathbb N$$the sequence $\set{\langle u_n,e_k\rangle}_{n\in\mathbb N}$ is bounded, thus has a convergent subsequence. Loop the process over $k\in\mathbb N$ yields a table of $n$-$k$ axis, then it suffices to show that its diagonal sequence converges, which is quite easy using some estimation.
	- **Equivalent condition**: we may replace the equi-small tails condition with existence of finite-dimensional subspace $W\subset H$ such that $\inf_{w\in W}\|u-w\|<\varepsilon,\forall u\in K$ given any $\varepsilon$.
## Coordinate system in Hilbert space
In order to obtain some properties about a specific element in a Hilbert space we could consider to establish a "coordinate system". 
> [!info] Example 1
> $f\in L^2[0,1]$ satisfies $\int_0^1x^kf(x)dx=1,0\le k\le n-1$. Show that $\|f\|_2\ge n$.
> **Idea**: consider a random $P(x)=\sum c_jx^j$, we see that $\langle P(x),f\rangle=\sum c_j=P(1)$, thus the coordinate of $f$ for the bases $P(x)$ is $P(1)$. If we can find a orthonormal basis $P_k(x)$, then the coordinate of $f$ would be $(P_1(1),P_2(1),\cdots)$, based on which we can estimate the norm.
> Now in order to find a orthonormal basis we can consider GS or directly use the Legendre polynomial. [[Lp Space]]