**Motivation**: $L^p$ space is a useful prototype of general [[Banach Space]], and serves as an auxiliary space in many applications. It's like a generalized Euclidean space with arbitrary coordinate frame.

Note that in a theorem $L^1$ and $L^\infty$ are often special cases that need to be discussed separately. This is mainly due to the specialty of $L^\infty$ (as a limit of $L^p,l\to\infty$) and the fact that $1,\infty$ are dual indexes (not dual spaces!). $L^2$ also often discussed as a special case since it's a Hilbert space.

---
Given a measure space $(X,\Sigma,\mu)$ for some $S\subset X$ and $1\le p\le\infty$ the $L^p$ space on it is defined as $$L^p(S)=\Set{f:f\text{ measurable},\left\|f\right\|_p=\left(\int_S|f|^pd\mu\right)^{1/p}\le\infty}$$Notice that $\int fd\mu=0\iff f=0\ a.e.[\mu]$, thus to make $\|\cdot\|_p$ a norm we add an equivalence relation $f\sim g\iff f=g\ a.e.[\mu]$.
- **Convergence**: convergence is $L^p$ space is understood as norm convergence.
	- **Weak convergence**: given $p,q$ conjugate and $f_n,f\in L^p$, define $$f_n\wto f\quad\iff\quad\int f_ng\to\int fg,\quad\forall g\in L^q$$We have $f_n\xto{L^p}f\Longrightarrow f_n\wto f$ by Hölder's inequality. 
		- For $1\le p<\infty$ to verify weak convergence for $\sup\|f_n\|_p<\infty$ it suffices to check integral convergence on a dense subset of $L^q$. This follows from separability of $L^p$.
		- **Example**: Riemann-Lebesgue lemma discussed below provides an example that is weakly convergent but not norm convergent.
	- **$L^p$ convergence $\Rightarrow$ convergence in measure**: by Chebyshev's inequality we have $$\mu(\set{|f_n-f|\ge\varepsilon})=\mu(\set{|f_n-f|^p\ge\varepsilon^p})\le\frac{1}{\varepsilon^p}\int|f_n-f|^p=\frac{\|f_n-f\|_p^p}{\varepsilon^p}$$the last term can be made arbitrarily small.
	- **Convergence in measure under domination $\Rightarrow$ $L^p$ convergence**: given $|f_n|\le g\in L^p$, if there exists $\int|f_{n(i)}-f|^p\ge\varepsilon,\forall i\in\mathbb N$, applying generalized DCT yields $\int|f_{n(i,j)}-f|^p\to0$, a contradiction.
- **[[Banach Space]] structure**: for $1\le p\le\infty$ the space $L^p$ is Banach. 
  **Proof**: $\|\cdot\|_p$ is a norm by Minkowski's inequality, hence it suffices to show completeness. Given $\set{f_n}$ first assume that $\sum_{n\in\mathbb N}\|f_{n+1}-f_n\|_p=M<\infty$, and define $$g_n=\sum_{k=0}^n|f_{k+1}-f_k|\quad\Longrightarrow\quad\|g_n\|_p\le\sum_{k=0}^n\|f_{k+1}-f_k\|_p\le M$$let $g=\sup g_n$, then by MCT ([[Lebesgue Integral]]) we have $\|g\|_p=\sup\|g_n\|_p\le M$, which allows us to define $f=\sum_{n\in\mathbb N}(f_{n+1}-f_n)\in L^p$, and further by DCT we have  $f_n\xto{L^p} f$. For general $\set{f_n}$ it suffices to pick a subsequence $\set{f_{n_k}}$ with $\sum_k\|f_{n_k}\|<\infty$, and use Cauchy property to establish uniqueness of limit.
	- $p=2$ is the only $L^p$ space that is a [[Hilbert Space]], by Parallelogram law.
	- For $0<p<1$ the norm generally does not verify triangle inequality, hence for such $p$ the space $L^p$ not even a normed space.
	- **Separability**: for $1\le p<\infty$, the space $L^p$ is separable if the underlying [[Measure]] space $(X,\Sigma,\mu)$ is separable. The dense subset can be constructed in the following way: let $\varphi_n=\chi_{E_n}$ where $\set{E_n}$ is a dense subset of $\Sigma$, and define $\Phi$ to be the vector space over $\mathbb Q$ generated by $\set{\varphi_n}$ (i.e., finite linear combinations with rational coefficients). Then $\Phi$ is countable and is dense in $L^p(X)$.
		- **$L^\infty$ case**: note that even $L^\infty(\mathbb R)$ is not separable, e.g. $f_r=\sin rx,r\in\mathbb R$.
		- $\ell^p,1\le p<\infty$: just consider $A\subset\mathbb Q^\mathbb N$ whose elements contains only finitely many non-zero elements.
		- $\ell^\infty$: by the non-separability criterion ([[Metric Space]]) we can try to construct an uncountable collection of sequences with pairwise distance at least $\varepsilon>0$, which is quite easy. We may consider $B=\set{(x_1x_2,,\cdots):r=\overline{0.x_1x_2\cdots}\in[0,1]}$.
	- **Weak compactness**: $L^p$ is weakly compact for $1<p<\infty$. [[Banach Space]]
	  **Proof**: pick $q$ the dual index of $p$. Since such $L^q$ is separable, we pick $\set{g_n}$ a countable dense subset of the unit ball, then by Hölder's inequality we have $$\int f_ng_m\le\|f_n\|_p\|g_m\|_q<\infty,\quad\forall m,n\in\mathbb N$$Notice that the bound is uniform, hence we can use the [[Diagonal Argument]] to construct a weakly convergent subsequence.
- **$\ell^p$ space**: the $\ell^p(I)$ space over a general index set $I$ is defined as $$\ell^p(I)=\Set{(x_i)_{i\in I}\in\mathbb K^I:\left(\sum_{i\in I}\left|x_i\right|^p\right)^{1/p}\le\infty}$$where $\mathbb K$ is the given number field, and the convergence is in the sense that only countably many summands are non-zero. 
## Inequalities
[[Convexity]] is a critical tool available for the theory of inequalities in $L^p$ space. It's worth noting that convexity of unit ball $\iff$ convexity of $L^p$ norm $\iff$ triangle inequality. [[Vector Space]]
- **Minkowski's inequality**: let $f,g\in L^p,1\le p<\infty$, then $$\|f+g\|_p\le\|f\|_p+\|g\|_p$$**Proof**: by convexity of $x^p(p>1)$ on $[0,\infty)$ for any $0<t<1$ we have $$|f+g|^p=\left|(1-t)\frac{f}{1-t}+t\frac{g}{t}\right|^p\le(1-t)\left|\frac{f}{1-t}\right|^p+t\left|\frac{g}{t}\right|^p=\frac{|f|^p}{(1-t)^{p-1}}+\frac{|g|^p}{t^{p-1}}$$Integrating both sides yields $$\|f+g\|_p^p\le\frac{\|f\|_p^p}{(1-t)^{p-1}}+\frac{\|g\|_p^p}{t^{p-1}}$$taking the optimal coefficient $t=\frac{\|g\|_p}{\|f\|_p+\|g\|_p}$ yields the inequality. 
	- **Idea of proof**: it's quite natural to think of utilizing the convexity of $x^p$ since it's the main characteristic of $L^p$ norm. Introducing the new coefficient $t$ does exactly this thing (turn the expression into a **convex combination**). The next step is to pick an optimal $t$. More about this idea can be found in [[Estimation]].
	- **Intuition**: the result makes sense intuitively because taking $x\to x^p$, adding elements up, and again taking $x\to x^{1/p}$ "suppresses" the overall summation (because **larger values "gain" and "lose" more in the process**): $$\begin{align}&|f|\xrightarrow{x\mapsto x+g}|f+g|\xrightarrow{x\mapsto x^p}|f+g|^p\\&f\xrightarrow{x\mapsto x^p}\|f\|^p\xrightarrow{x\mapsto x+g}\|f\|_p+\|g\|_p\end{align}$$It's obvious that the increase in value is different along two paths. This also aligns with Convexity and Jensen's inequality.
	- **Minkowski's inequality for integral**: given $(X_i,\mu_i),i=1,2$ and $f(x_1,x_2)\ge0$ we have $$\left\|\int fd\mu_2\right\|_{L^p(X_1)}\le\int\|f\|_{L^p(X_1)}d\mu_2,\quad\forall 1\le p\le\infty$$**Proof**: pick arbitrary $\|g\|_{L^q(X_1)}=1$ where $1/q+1/p=1$, then $$\left\|g\cdot\int fd\mu_2\right\|_{L^1(X_1)}=\int\left|g\int fd\mu_2\right|d\mu_1\le\int\left(\int|fg|d\mu_1\right)d\mu_2\le\int\|f\|_{L^p(X_1)}\|g\|_{L^q(X_1)}d\mu_2$$Hence by equality condition of Hölder's inequality we get the desired result.
- **Hölder's inequality**: let $f\in L^p,g\in L^q$ where $\frac{1}{p}+\frac{1}{q}=1$ (called conjugate), then $fg\in L^1$ with $$\|fg\|_1\le\|f\|_p\cdot\|g\|_q$$**Proof via young's inequality**: by convexity of $e^x$ applied at $\frac{a}{p},\frac{b}{q}$ we have **young's inequality** $ab\le\frac{a^p}{p}+\frac{b^q}{q}$. Take $a=\frac{|f|}{\|f\|_p},b=\frac{|g|}{\|g\|_q}$ and integrate both sides would yields the result. The choice of the coefficients $\frac{1}{\|f\|_p},\frac{1}{\|g\|_q}$ can also be derived via the amplification method ([[Estimation]]).
	- **Intuition**: it's known that $\int_\mathbb R|x|^{-t}<\infty$ iff $t>1$. Assuming that $f,g$ are "smooth", then for $f\in L^p,g\in L^q$ with $\frac{1}{p}+\frac{1}{q}=1$ it's reasonable to think that $f\propto x^{-1/p},g\propto x^{-1/q}$, hence it makes sense to believe that $\|fg\|\le1$ given $\|f\|_p=\|g\|_q=1$.
	- **Equality condition**: by equality condition of Young's inequality we know that Hölder's inequality reaches equality iff $|f|^p=c|g|^q\ae$ for some $c\neq0$.
	- **Functional perspective**: the inequality can be viewed as generalized $\left|\braket{f,g}\right|\le\|f\|\cdot\|g\|$. Consider $\ell_g$ the linear functional ([[Dual Space]]) defined in the following way: $$\ell_g:L^p\to\mathbb C,\quad \ell_g(f)=\braket{f,g}=\int|fg|$$then $g$ is the element corresponding to $\ell_g$, and Hölder's inequality is essentially a definition of [[Operator]] norm. This is detailed in the duality of $L^p$ below.
	- **Proof via Jensen's inequality**: since $x^p(p\ge1)$ is convex by Jensen's inequality we have $\int hd\nu\le\left(\int h^pd\nu\right)^{1/p}$. Take $$d\nu=\frac{g^p}{\int g^qd\mu}d\mu,\quad h=fg^{1-q}$$then we can simplify the Jensen's inequality to Hölder inequality.
	- **Multiple Hölder's inequality**: given $f_n\in L^{p_n}$ with $\sum_{n=1}^N\frac{1}{p_n}=1$ we have $$\left\|\prod_{n=1}^Nf_n\right\|_1\le\prod_{n=1}^N\|f\|_{p_n}$$This follows by successive application of Hölder's inequality, observing the fact that $\|f^\alpha\|_{p/\alpha}=\|f\|_p^\alpha$.
	- **Young's convolution inequality**: for $f\in L^p,g\in L^q$ with $\frac{1}{p}+\frac{1}{q}=\frac{1}{r}+1,1\le p,q,r\le\infty$, $$\|f*g\|_r\le\|f\|_p\|g\|_q$$**Proof**: Notice that $$\begin{align}|(f*g)(x)|&\le\int|f(x-t)g(t)|dt\\&=\int(|f(x-t)|^{p/r}|g(t)|^{q/r})\cdot|f(x-t)|^{1-p/r}\cdot|g(t)|^{1-q/r}dt\\&\le\left\|(|f(x-t)|^p\cdot|g(t)|^q)^{1/r}\right\|_r\left\|f^{1-p/r}\right\|_{\frac{pr}{r-p}}\left\|g^{1-q/r}\right\|_{\frac{rq}{q-r}}\\&=\left(\int|f(x-t)|^p|g(t)|^qdt\right)^{1/r}\|f\|_p^{1-p/r}\|g\|_q^{1-q/r}\end{align}$$Where the second inequality follows from multiple Hölder's inequality, justified by the observation $\frac{1}{r}+\frac{r-p}{pr}+\frac{r-q}{qr}=1$. Hence $$\begin{align}\|f*g\|_r^r&=\int|(f*g)(x)|^rdx\\&\le\int\left(\left(\int|f(x-t)|^p|g(t)|^qdt\right)^{1/r}\|f\|_p^{1-p/r}\|g\|_q^{1-q/r}\right)^rdx\\&=\int\left(\int|f(x-t)|^p|g(t)|^qdt\right)\|f\|_p^{r-p}\|g\|_q^{f-q}dx\\&=\|f\|_p^{r-p}\|g\|_q^{r-q}\iint|f(x-t)|^p|g(t)|^qdtdx\\&=\|f\|_p^r\|g\|_q^r\end{align}$$where we used Fubini's theorem ([[Measure]]) for the double integral. Note that the coefficient is not optimal.
	- **Cauchy-Schwarz inequality**: take $p=q=2$.
- **Chebyshev's inequality**: given $f\in L^1$ we have $$\lambda(\set{x:|f|\ge\varepsilon})\le\frac{\|f\|_1}{\varepsilon}$$the proof is a simple estimation.
## Interrelations between $L^p$ space
Given $\mu(X)=\infty$ for any pair of $L^p,L^q$ we can find $f\in L^p\backslash L^q$. However since the set of simple functions is dense in each $L^p$, we have that $L^p\cap L^q$ is dense in each of them.
- **Inclusion relations**: for $\mu(X)<\infty,1\le p\le q\le\infty$ we have $L^q\subset L^p$, since we have $$\frac{\|f\|_p}{\mu(X)^{1/p}}\le\frac{\|f\|_q}{\mu(X)^{1/q}}$$This follows from Hölder's inequality applied on $F=|f|^p$ and $G\equiv1$.
	- **Opposite inclusion**: given $1\le p<q\le\infty$ we have $\ell^p\subset\ell^q$ with $\|f\|_{\ell^1}\le\|f\|_{\ell^p}$.
	- **$L^\infty$ norm as limit of $L^p$ norm**: for $\mu(X)<\infty$ we have $$\lim_{p\to\infty}\|f\|_p=\|f\|_\infty,\quad\forall f\in L^\infty(X)$$**Proof**: by the inclusion relation above each $\|f\|_p$ is well-defined, and the $\le$ side also follows directly from the inequality. Meanwhile, consider any $0<\varepsilon<\|f\|_\infty$, and denote $$S_\varepsilon=\set{x:|f(x)|\ge\left\|f\right\|_\infty-\varepsilon}$$then we have $$\|f\|_p\ge\left(\int_{S_\varepsilon}(\|f\|_\infty-\varepsilon)^pd\mu\right)^{1/p}=(\|f\|_\infty-\varepsilon)\mu(S_\varepsilon)^{1/p}$$which gives the $\ge$ side by taking $p\to\infty$.
- **Sum of $L^p$**: for the sum of vector spaces $L^p+L^q$ with the norm $$\|f\|_{p+q}=\inf\{\|f_p\|_p+\|f_q\|_q:f=f_p+f_q\in L^p+L^q\}$$It's obvious that this is a norm, and its completeness follows easily from that of $\|\cdot\|_p$ (or we can also use the characterization of completeness ([[Banach Space]]) to derive a simpler proof).
	- **Dual space**: define the norm on $L^p\cap L^q$ as $\|f\|_{p\cap q}=\|f\|_p+\|f\|_q$, then the two spaces $L^p\cap L^q$ and $L^p+L^q$ are duals of each other.
	- **Intermediate index**: we have $L^r\subset L^p+L^q$ for $p<r<q$, since we can decompose $f$ into $|f|>1$ and $|f|<1$, and bound two terms with $L^p,L^q$ norms respectively.
- **Log-convexity**: for $p<r<q$ write $r=p\lambda+q(1-\lambda)$ for $\lambda\in(0,1)$, then by Hölder's inequality, $$\|f\|_r^r=\int|f|^r=\int|f|^{p\lambda}|f|^{q(1-\lambda)}\le\left(\int|f|^p\right)^\lambda\left(\int|f|^q\right)^{1-\lambda}=\|f\|_p^{p\lambda}\|f\|_q^{q(1-\lambda)}$$Hence $(L^p\cap L^q)\subset L^r$.
- $L^p\cong L^q$ iff $p=q$ for a general class of $X$. [[Banach Space]]
## Properties
- **$L^\infty$ as a limit**: given $f\in L^\infty$, if $\mu(\supp f)<\infty$ then $f\in L^p,\forall p<\infty$ with $\|f\|_p\to\|f\|_\infty,p\to\infty$.
  **Proof**: it's known from above that $f\in L^p$. Further we have $$\|f\|_p\le\|f\|_\infty\mu(\supp f)^{1/p}\quad\Longrightarrow\quad \limsup\|f\|_p\le\|f\|_\infty$$Meanwhile it can be estimated easily via an $\varepsilon$ of room that $\liminf\|f\|_p\ge\|f\|_\infty$, hence the result follows.
- **Dense subsets**: the following sets are dense in $L^p$, which will be useful in many situations: 
	- **Simple functions**: the density follows directly from definition of [[Measurable Function]] and [[Lebesgue Integral]] itself.
	- **Step functions**: we can approximate any measurable set by almost disjoint cubes ([[Lebesgue Measure]]), hence density of simple functions yields density of step functions.
	- **Continuous functions of compact support**: step function can be made continuous by replacing jumps by connected segments.
	- **Schwartz function**: for any $f\in L^p$ by DCT we have $$g_M=f\chi_E\quad\text{where}\quad E=\set{|x|\le M,|f|\le M}\quad\Longrightarrow\quad\|f-g_M\|_p\to0,M\to\infty$$Now pick any bump function ([[Smooth Manifold]]) $\phi$, then $K_\delta=\delta^{-1}\phi(x/\delta)$ is family of good kernels, hence $|g-g*K_\delta|\to0\ae$ ([[Convolution]]), and again by DCT we have $\|g-g*K_\delta\|_p\to0$. Now $\|f-g*K_\delta\|\le\|f-g_M\|+\|g_M-g_M*K_\delta\|\to0$, hence $g*K_\delta$ is a sequence of Schwartz functions ([[Schwartz Space]]) that converges to $f$.
- **Other properties**
	- **Continuity of norm under translation**: denote $f_h(x)=f(x-h)$, then $$\|f_h-f\|_1\to0,\quad h\to0$$**Proof**: pick an approximation by continuous compactly-supported function $g$ with $\|g-f\|<\varepsilon$, and notice that $$f_h-f=(g_h-g)+(f_h-f_h)-(f-g)$$each norm can be bounded by $\varepsilon$, hence the result follows.
	- **Continuity of norm under dilation**: for $f_\delta=f(\delta x)$ we also have $\|f_\delta-f\|_1\to0$ as $\delta\to1$. The proof is similar to above.
	- **Riemann-Lebesgue lemma**: for $\set{g_n}\in L^1([a,b])$ with $|g_n|\le M$, if $$\lim_{n\to\infty}\int_{[a,c]}g_n=0,\quad\forall c\in[a,b]$$then $$\lim_{n\to\infty}\int_{[a,b]}fg_n\to0,\quad\forall f\in L^1([a,b])$$This can be shown easily by density of step functions.
	- **$\int x^{-1}$ analogy**: define two functions $$f_0=|x|^{-\alpha}\chi_{\set{|x|<1}},\quad f_\infty=|x|^{-\alpha}\chi_{\set{|x|>1}}$$then by integration under polar coordinate ([[Measure]]) we can verify that $$f_0\in L^p(\mathbb R^d)\iff p\alpha<d,\quad f_\infty\in L^p(\mathbb R^d)\iff p\alpha>d$$This sometimes serve as important examples.
## Dual space of $L^p$
The Minkowski's inequality establishes $L^p$ as a [[Banach Space]], and for $\frac{1}{p}+\frac{1}{q}=1$ we have $$(L^p)^*\cong L^q,\quad\forall 1\le p<\infty$$in the sense that for any $\ell\in (L^p)^*$ there exists a unique $g\in L^q$ s.t. $$\ell(f)=\int fgd\mu,\quad\forall f\in L^p\quad\text{with}\quad \|\ell\|_{(L^p)^*}=\|g\|_q$$This is why such $q$ is usually called the dual exponent of $p$.
**Proof**: given conjugate $1\le p,q\le\infty$ by Hölder's inequality with equality condition we have that $$\|g\|_q=\sup_{\|f\|_p\le1}\|fg\|_1,\quad\forall g\in L^q$$Meanwhile, if $g$ is integrable on all sets of finite measure, and $$\sup_{\|f\|_p\le1,f\text{ simple}}\|fg\|_1=M<\infty$$then we have $g\in L^q,\|g\|_q=M$, since for series of simple functions $g_n\to g$ pointwise we can take $f_n=|g_n|^{q-1}\sgn g/\|g_n\|_q^{q-1}$ and apply Fatou's lemma ([[Lebesgue Integral]]) to get $\|g\|_q\le M$, and use Hölder's inequality for the reverse. Now we start to prove the original result.
$\mu(X)<\infty$: define $\nu(E)=\ell(\chi_E)$, then it can be verified that $\nu$ is a [[Measure]] with $\nu\ll\mu$, hence by Lebesgue decomposition theorem ([[Signed Measure]]) there exists $g$ s.t. $$\nu(E)=\int_E gd\mu\quad\Longrightarrow\quad\ell(\chi_E)=\int\chi_Egd\mu,\quad\forall E\in\Sigma$$Hence we can use the [[Standard Mechanism]] to extends the equality to all measurable $f\in L^p$. We also know from the lemma that $g\in L^q,\|\ell\|=\|g\|_q$.
$\mu(X)=\infty$: we pick $E_n\nearrow X$ and pick the corresponding $g_n$ for each $E_n$ s.t. $$\ell(f)=\int fg_nd\mu,\quad\forall n\in\mathbb N, f\in L^p,\supp f\subset E_n$$with $\|\ell\|\ge\|g_n\|_q$. Now it's obvious that $g_m=g_n$ on their shared support, hence $\lim g_n=g$ exists, and by Fatou's lemma we have $\|g\|_q\le\|\ell\|$. Finally we invoke Hölder's inequality again to get $\|g\|_q=\|\ell\|$.
- **Dual of $L^\infty$**: we can construct linear functions not of the integral form. Denote $C\subset L^\infty(\mathbb R)$ the set of continuous bounded functions, and define $$\ell_0\in(L^\infty)^*,\quad\ell_0(f)=f(0),\quad\forall f\in C\quad\Longrightarrow\quad |\ell_0(f)|\le\|f\|_\infty$$by Hahn-Banach theorem with $p(f)=\|f\|_\infty$ we can extend $\ell_0$ to $\ell$ on $L^\infty$. If $\ell$ can be represented by an integral, taking $f=\chi_I$ for all intervals $0\notin I$ yields $g=0$, contradiction.
- **Discussion**: in the above proof we show that any $\ell\in(L^p)^*$ must be of the integral form. However it does not imply that any operator defined by the above integral form is indeed bounded (hence a functional). For this result the UBP ([[Banach Space]]) is required, in which a simple truncation argument is used to establish $\|\ell\|=\|g\|_q$. Detailed proof can be found in [[Uniform Boundedness Principle]].