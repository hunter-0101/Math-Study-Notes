A **quadratic (hyper)surface** in $F^n$ over [[Field]] $F$  is [[Surface]] determined by the algebraic equation $$S:x^TQx+Px+R=0\where Q\in S^n(F),P,R\in F^n$$which is naturally associated with [[Quadratic Form]]. Below we'll mostly assume $F=\mathbb R$.
- **Shape dependence**: the shape of the quadratic surface is determined by the coefficient of highest-order term in its canonical expression. 
  **Proof**: since $A$ is symmetric, by [[Eigendecomposition]] it's unitarily diagonalizable, i.e., we can always find $P\in\su(n,F)$ ([[Matrix Group]]) s.t. $$f(Px)=x^T\Lambda x+b^TPx\where\Lambda=\diag(\lambda_1,\cdots,\lambda_n)$$By proper translation we can always cancels the $x_i$ term out (unless $0\in\sigma(A)$, whose corresponding coefficient is invariant under translation), yielding an equation in which all $x_i$ are separated, and contains only one term of highest order, i.e., terms with eigenvalues as their coefficients (except for $x_i$ terms). This, together with the scaling-invariance discussed below, completes the proof.
	- **Scaling-invariance for quadratic form with $0\in\sigma(A)$**: for coordinate with $0$ as its corresponding eigenvalue, the ratio between coefficient with vanishing and non-vanishing eigenvalues can always be canceled out by uniform scaling $x\mapsto cx$, hence they're of the same shape up to uniform scaling. 
## Properties
- **Tangent cone**: a tangent cone for quadratic surface $S$ is a cone consisting of tangents of $S$. In general the tangent cone of $S:x^TQx=1$ that takes $p\in F^n$ as the apex is given by $$C:(p^TQp-1)\cdot(x^TQx-1)=(x^TQp-1)^2$$which can be further standardized (moving apex to the origin) to $$C_s:(p^TQp)\cdot(x^TQx)=(x^TQp)^2$$**Proof**: consider the parametrized tangent line $$x=p+td\where d=(d_1,\cdots,d_n)^T$$Then substitute this into the equation of $S$ we get $$(p+td)^TQ(p+td)=1\imply(d^TQd)t^2+2(p^TQd)t+(p^TQp)=0$$Since the line is assumed to be tangent we must have $$\Delta=4((p^TQd)^2-(p^TQp)(d^TQd))=0$$By substitute $d=\frac{x-p}{t}$ and simplify, we can get the first equation. The standardized form can be obtained via a translation $x\mapsto x-p$.
	- **Quadratic form of tangent cone**: we can further simplify the equation to $$C_s:x^TAx=0\where A=(p^TQp)Q-Qpp^TQ$$This follows from some simple and straightforward calculation. 
- **Rectangular cone**: a rectangular cone is a cone that contains a orthogonal basis as its generatrix. A cone $C_R:x^TRx=0$ is a rectangular cone iff $\tr R=0$. 
  **Proof**: $(\Rightarrow)$ is quite trivial since by a unitary similarity we can rotate $C_R$ to contain the standard orthonormal basis as its generatrix, which immediately implies $$R_{ii}=0,\quad\forall 1\le i\le n\imply\tr R=0$$For $(\Leftarrow)$ we proceed by inductively picking an orthonormal basis $(e_i)_{i=1}^n$ that transforms $R$ into one with zero diagonal entries. Since $\tr R=0$, we can pick $e_1$ s.t. $e_1^TRe_1=0$ (this can be done via an intermediate value argument or diagonalizing $R$ and picking $e_1'=(1,\cdots,1)^T$), and by expanding it into a orthonormal basis (by Gram-Schmidt process in [[Hilbert Space]]) $E=(e_1,e_2^{(1)},\cdots,e_n^{(1)})$ the new representation of $R$, by change of basis formula ([[Matrix]]), is $$R^{(1)}=E^TRE=\begin{pmatrix}0&*&\cdots&*\\ *\\\vdots&&R'\\ *\end{pmatrix}$$Under this basis, since $\tr R'=\tr R^{(1)}-0=0$ we can again pick $e_2=(0,e_2')\in F^n$ satisfying $e_2'^TR'e_2'=0$, and still by expansion of basis the change of basis matrix now is $$(e_1,e_2,e_3^{(2)},\cdots,e_n^{(2)})=(e_1,e_2^{(1)},\cdots,e_n^{(1)})\begin{pmatrix}1&*&\cdots&*\\0&*&\cdots&*\\\vdots&*&\cdots&*\\0&*&\cdots&*\end{pmatrix}$$by exactly the same fashion of calculation we manage to turn the first two diagonal entires of $R^{(2)}$ into $0$. This process can be repeated $n-2$ times, yielding $$(e_1,\cdots,e_{n-1})\quad\st\quad\begin{cases}\braket{e_i,e_j}=0,&\forall1\le i<j\le n-1\\e_i^TRe_i=0,&\forall 1\le i\le n-1\end{cases}$$and the last unit vector $e_n$ that makes $E=(e_i)_{i=1}^n$ an orthonormal system would naturally ensure that $E^TRE$ has zero diagonal entries. The basis $E$ is exactly the pairwise perpendicular generatrix we wanna find. 
 
## Quadratic surfaces in $\mathbb R^3$
For quadratic forms in $\mathbb R^3$, based on the eigenvalues we can categorize them into 6 classes:
![[Pasted image 20241008085112.png]]
Below we'll go through each of them, illustrating some of the useful properties. We'll only look at the canonical form, which can always be obtained via proper linear transform of coordinate, as discussed in [[Eigendecomposition]].
- **Ellipsoid**: the canonical form of an ellipsoid is $$\frac{x^2}{a^2} + \frac{y^2}{b^2} + \frac{z^2}{c^2}=1$$which has three positive eigenvalues. 
	- **Cross sections**: any cross section of an ellipsoid is an ellipses (or circles, which is degenerated). Geometrically, this is because a ellipsoid can be obtained from a ball from pure stretching; algebraic proof can be found below.
- **Single-Sheet Hyperboloid**: the canonical form of a single-sheet hyperboloid is $$\frac{x^2}{a^2} + \frac{y^2}{b^2} - \frac{z^2}{c^2} = 1$$which has two positive eigenvalues and one negative eigenvalue.
	- **Doubly ruled surface**: since the equation can be written as $$\frac{x^2}{a^2}-\frac{z^2}{c^2}=1-\frac{y^2}{b^2}\quad\iff\quad\frac{\frac{x}{a}-\frac{z}{c}}{1-\frac{y}{b}}=\frac{1+\frac{y}{b}}{\frac{x}{a}+\frac{z}{c}}$$by assigning an explicit value to the ratio we get two planes $$\begin{cases}\mu\left(\dfrac{x}{a}+\dfrac{z}{c}\right)+\nu\left(1+\dfrac{y}{b}\right)=0\\\mu\left(1-\dfrac{y}{b}\right)+\nu\left(\dfrac{x}{a}-\dfrac{z}{c}\right)=0\end{cases}$$This determines **one family of lines** within the surface of the hyperboloid. By writing the ratio in another form yields another family of skew lines that lies in it.
		- **Why use two parameters**: one of $\mu,\nu$ might equal to zero, which shows that only specifying a ratio parameter is not sufficient, unless we allow it to take the value $\infty$, which is not preferred in the geometry setting.
	- **Characterization via skew lines**: pick three arbitrary skew lines $l_1,l_2,l_3$, and consider $$\Gamma=\set{l\subset\mathbb R^3:l\text{ is a line that intersects with each }l_i,1\le i\le 3}$$We have that $\Gamma$ is a single-sheet hyperboloid.
	  **Geometric proof**: we first proof that such $l$ exists. Consider $$\Sigma_x=\set{l:l\text{ passes }x\text{ and intersects with }l_2},\quad\forall x\in l_1$$then $\Sigma_x$ is a plane, and if we denote $\Sigma_0$ the plane that contains $l_2$ and is perpendicular to the common normal of $l_1,l_2$, then it's easy to verify that $$\bigcup_{x\in l_1}\Sigma_x=\mathbb R^3\backslash\Sigma_0\quad\Longrightarrow\quad\bigcup_{x\in l_1}\Sigma_x\cap l_3\neq\varnothing$$this implication follows due to the skewness assumption, since otherwise $l_3\in\Sigma_0$, which must either intersects with or be parallel to $l_2$.
		- **Skew lines**: we say that two space lines are skew if they're not parallel to each other, and do not intersect.
	- Any three skew lines in a space uniquely determines a single-sheet hyperboloid that contains all of them. An algebraic proof is provided below, and further geometric intuitions can be found at the end of this note.
	  1. Algebraically, a hyperboloid corresponds to a quadratic equation $$\Gamma:(r-r_0)^TQ(r-r_0)=1$$where $r_0$ is the center of the hyperboloid, and $Q$ is the parameter matrix. 
	  2. Assume that the three skew lines are represented as $l_i:r_i=P_i+td_i$ with a point and directional vector. Put $r_i$ into the equation of the hyperboloid yields$$(P_i-r_0+td_i)^TQ(P_i-r_0+td_i)=1$$Since these three lines are contained in $\Gamma$, we have $(P_i-r_0)^TQ(P_i-r_0)=1$, subtracting it from the above equation yields $$td_i^TQd_i+2d_i^TQ(P_i-r_0)=0$$
	  3. Since the above equation holds for any $t\in R$, we have $$\begin{cases}d_i^TQd_i=0&(a)\\d_i^TQ(P_i-r_0)=0&(b)\end{cases}$$Since $Q$ is symmetric, from $(a)$ we get $3$ linear homogeneous equations with $6$ variables. Thus the solution can be expressed as $Q=\alpha Q_1+\beta Q_2+\gamma Q_3$.
	  4. From $(b)$ we know that $d_i^TQP_i=d_i^TQr_0$. As $l_i$ are skew, $V=[d_1,d_2,d_3]$ spans $R^3$. Therefore we can express $Qr_0$ as $Qr_0=Vu$. Let $\Omega=[\alpha,\beta,\gamma]^T$, then we have $$[d_i^TQ_1P_i,d_i^TQ_2P_i,d_i^TQ_3P_i]^T\Omega=d_i^tVu,\quad i=1,2,3$$which can be summarized as $F\Omega=Gu$ with $F_{ij}=d_i^TQ_jP_i,G=V^TV$.
	  5. The above matrix-vector equation yields $u=G^{-1}F\Omega$, hence $Qr_0=VG^{-1}F\Omega$. Put it back gets $$Qr_0=VG^{-1}F\Omega\quad(c)$$
	  6. Back to $(b)$, consider $(b.1)-(b.2),(b.1)-(b.3)$ and put in $(c)$, we get two homogeneous linear equations with variable $\Omega=[\alpha,\beta,\gamma]^T$. Thus its solution can be represented as $\Omega=\Omega_0t$ with constant $\Omega_0=[\alpha_0,\beta_0,\gamma_0]$ and $t$ yet to be found. Put everything back to $(c)$ gets $r_0=Q_)^{-1}VG^{-1}F\Omega_0$.
	  7. Finally, since $P_i\in\Gamma$ we can obtain $$t=\frac{1}{(P_i-r_0)^TQ(P_i-r_0)}$$
- **Double-Sheet Hyperboloid**: the canonical form of a double-sheet hyperboloid is  $$\frac{x^2}{a^2} - \frac{y^2}{b^2}-\frac{z^2}{c^2} = 1$$which has one positive eigenvalue and two negative eigenvalues.
	- Separated sheets with hyperbolic cross-sections.
- **Elliptic Paraboloid**: the canonical form of an elliptic paraboloid is $$\frac{x^2}{a^2} + \frac{y^2}{b^2} = 2z$$which has two positive eigenvalues and a zero eigenvalue.
	- Parabolas along \(z\)-axis, ellipses in horizontal planes.
- **Hyperbolic Paraboloid**: the canonical form of a hyperbolic paraboloid is $$\frac{x^2}{a^2} - \frac{y^2}{b^2} = 2z$$It's saddle-shaped, hyperbolas and parabolas in cross-sections.
	- Hyperbolic paraboloid is doubly ruled. **Each family of lines are parallel to a fixed plane**.
### Other properties of quadratic surfaces
- **Cross section**: a cross section of a quadratic surface is a quadratic form.
  **Proof**: by rotation/translation we can assume WLOG that the plane used to generate cross section is $z=0$. By substituting it into a quadratic form we always get $$ax^2+bxy+cy^2+dx+ey+f=0$$which is a quadratic curve. 