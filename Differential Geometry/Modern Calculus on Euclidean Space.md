**Motivation**: the [[Euclidean Space]] $\mathbb R^m$, as a space that we're mostly familiar with, serves as an intuitive prototype of general calculus on [[Smooth Manifold]]. This would serve as a preliminary for [[Differential Calculus on Smooth Manifold]] and [[Integral Calculus on Smooth Manifold]], covering things that will be invoked in the above two notes, and also providing motivations for definitions for concepts in them. 
- **Comparison with classical calculus theory**: the main limitation of [[Differential Calculus on Euclidean Space]] and [[Integral Calculus on Euclidean Space]] is that they fall short when dealing with problems that involves orientation, e.g., theories in [[Motion of Fluid]] or electromagnetism. That was the main historical motivation for us to introduce the concept of orientation. 
Note however this theory is built on Riemann calculus, and there is no [[Measure]] theory involved. For this direction, see geometric measure theory. 

--- 
A **germ** is an equivalence class of tuple of a smooth function $f\in C^\infty(\mathbb R^m)$ and a neighborhood $p\in U\subset M$ with equivalence [[Relation]] given by $$(f,U)\sim(g,V)\quad\iff\quad\exists W\subset U\cap V\text{ s.t. }f|_W=g|_W$$The collection of such equivalence classes is denoted as $C^\infty_p(\mathbb R^m)$. It's obvious that $C_p^\infty(\mathbb R^m)$ forms an algebra under function addition and multiplication over [[Field]] $\mathbb R$. 
- **Derivation**: a derivation at $p$ is any $\mathbb R$-linear function $D:C_p^\infty\to\mathbb R$ satisfying **Leibniz rule** $$D(fg)=(Df)g+f(Dg)$$Set of derivations is denoted $\mathcal D_p(\mathbb R^d)$. We have the isomorphism $\phi:T_p\to\mathcal D_p$ given by $$\phi(v)=\sum v_i\partial_i|_p$$Injectivity is obvious, while surjectivity follows from Taylor's theorem ([[Differential Calculus on Euclidean Space]]) and Leibniz rule.
# Differential calculus
We'll proceed based on the results in [[Differential Calculus on Euclidean Space]]. 
### Tangent & cotangent bundle
- **Tangent bundle**: a **tangent vector** associated with vector $v\in \mathbb R^d$ is the directional derivative $$\nabla_v=v\cdot\nabla:C^\infty(\mathbb R^m)\times\mathbb R^d\to\mathbb R$$By fixing point $p\in\mathbb R^d$ we get the **tangent space** $$T_p\mathbb R^d=\set{(\nabla_{v}|_p: C^\infty(\mathbb R^m)\to\mathbb R)}=\span_\mathbb R(\partial_i|_p:1\le i\le m)$$Their union is called the **tangent bundle** $$T\mathbb R^m=\bigcup_{p\in\mathbb R^m}T_p\mathbb R^m$$which forms a [[Vector Bundle]]. 
	- **Vector field**: a vector field on open $U\subseteq\mathbb R^m$ is a section $X:U\to T_pU$ represented as $$X_p=\sum a^i(p)\partial_i|_p,\quad\forall p\in U$$we say that $X\in C^\infty(U)$ if $a_i\in C^\infty,\forall i$.
- **Cotangent bundle**: the **cotangent space** is the [[Topological Dual Space]] of the tangent space $$T_p^*\mathbb R^m=(T_p\mathbb R^m)^*=\span_\mathbb R\paren{dx^i|_p:1\le i\le m}$$Their union forms the **cotangent bundle** $$T^*\mathbb R^m=\bigcup_{p\in\mathbb R^m}T_p\mathbb R^m$$which is also a vector bundle.
	- **Duality**: by definition we have $$\partial_i dx^j=\delta_i^j,\quad\forall 1\le i,j\le m$$Hence these two basis forms a bidual system ([[Algebraic Dual Space]]). 
	- **Covector field**: a covector field on $U\subseteq\mathbb R^m$ is a section $\omega:U\to T^*U$ represented as $$\omega_p=\sum a_i(p)dx^i|_p$$A covector is also referred to as a **differential $1$-form**, and is, in effect, equivalent to a function $p\mapsto(a_i(p))_{1\le i\le m}$. 
Based on them, any [[Smooth Map]] $f\in C^\infty(\mathbb R^m,\mathbb R^n)$ induces its **differential** as a pushforward $$df_p:T_p\mathbb R^m\to T_{f(p)}\mathbb R^n,\quad X_p\mapsto \paren{g\mapsto X_p(g\circ f)}$$which represents the best local linear approximation of $f$ at $p$. Its coordinate expression is $$X_p=\sum_{i=1}^ma_i(p)\partial_i\mapsto Y_{f(p)}=\sum_{j=1}^m\paren{X_pf^j}\partial_j=\sum_{j=1}^n\paren{\sum_{i=1}^ma_i(p)\partial_i|_pf^j}\partial_j$$For $n=1$ differential degenerates to a covector $df_p\in T_p^*\mathbb R^m$ given by $$df=\sum(\partial_if)dx^i$$where the coefficients are obtained by applying $\partial_i$ on both sides
### Differential $k$-form
The **differential $k$-form** is defined as an alternating function $\omega\in A_k(T_pU)$ ([[Exterior Algebra]]) by $$\omega=\sum_{I=(i_1<\cdots<i_k)} a_Idx^{\wedge I}$$For convenience we'll denote $dx^{\wedge I}=dx^I$. The **wedge product** of forms is defined by $$\omega=\sum_Ia_Idx^I,\varphi=\sum_Jb_Jdx^J\imply \omega\wedge\varphi=\sum_{I,J}a_Ib_J\paren{dx^I\wedge dx^J}$$It's trivial to verify that the collection of differential forms with $\mathbb N$-graded structure $$\Omega(U)=\bigoplus_{k=0}^\infty\Omega^k(U)\where\Omega^k(U)=A_k(T_kU)$$forms a graded algebra ([[Field]]) over $\mathbb R$. 
- **Exterior derivative**: the exterior derivative is defined as $$d:\Omega^k(U)\to\Omega^{k+1}(U),\quad \omega=\sum_Ia_Idx^I\mapsto d\omega=\sum_I\paren{\sum_{j=1}^m(\partial_ja_I)dx^j}\wedge dx^I$$We can verify that $d^2=0$, hence we have the [[Chain Complex]] $$\cdots\xto{d}\Omega^k(U)\xto{d}\Omega^{k+1}(U)\to\cdots$$More about this [[De Rham Cohomology]]. 
	- **Anti-derivation of degree $1$**: we have that $$d(\omega\wedge\tau)=d\omega\wedge\tau+(-1)^{\deg\omega}\omega\wedge d\tau$$by the above coordinate expression.
	- **Characterization of exterior derivative**: if $D:\Omega^k\to\Omega^{k+1}$ is anti-derivation of degree $1$, is closed, and $(Df)(X)=Xf$, then $D=d$.
	  **Proof**: it suffices to show that $D(fdx^I)=d(fdx^I)$ for all $I=(i_1<\cdots<i_k)$. By $$(Df)(X)=Xf=df(X),\quad\forall F\in C^\infty$$we have $Df=df$, while a simple induction with anti-derivation property shows that $D(dx^I)=0$, hence $$D(fdx^I)=Df\wedge dx^I+fD(dx^I)=df\wedge dx^I=d(fdx^I)$$which complete the proof.
---
# Integral calculus
We say that $A\subset\mathbb R^m$ is a **domain of integration** if it's bounded with topological boundary being a null set ([[Lebesgue Measure]]). Integration of top forms on $\mathbb R^m$ is basically the same as [[Integral Calculus on Euclidean Space]]: for $\omega=f(x)dx^1\wedge\cdots\wedge dx^m$ define $$\int_A\omega=\int_Af(x)dx^1\wedge\cdots\wedge dx^m=\int_Af(x)dx^1\cdots dx^m$$Note that the order must be $I=(1,\cdots,m)$ to transform integration of m-form into an ordinary Riemann integral.
- **Discussion**: the concept of differential form essentially provides a algebraically rigorous framework for the notation of differentiation and orientation
- **Change of variable**: given $(U,x^i),(V,y^i)$ take a diffeomorphism $T:V\to U$ with $i$-th component $T^i=x^i\circ T=T^*(x^i)$, denote $J_T$ the Jacobian $[\partial T^i/\partial y^j]$, then $$dT^1\wedge\cdots\wedge dT^m=(\det J_T )dy^1\wedge\cdots\wedge dy^m$$hence assuming $U,V$ are connected, we have $$\begin{align}\int_VT^*\omega&=\int_V(T^*f)T^*dx^1\wedge\cdots\wedge T^*dx^m\\&=\int_V(f\circ T)dT^1\wedge\cdots\wedge dT^m\\&=\int_V(f\circ T)(\det J_T)dy^1\wedge\cdots\wedge dy^m\\&=\int_V(f\circ T)(\det J_T)dy^1\cdots dy^m \end{align}$$where the first two equality follows from commutation of pushforward ([[Differential Calculus on Smooth Manifold]]). Meanwhile, by [[Integral Calculus on Euclidean Space]] we have $$\int_U\omega=\int_Ufdx^1\cdots dx^m=\int_U(f\circ T)\left|\det J_T\right|dy^1\cdots dy^m$$The above two equalities yield $$\int_VT^*\omega=\sgn(\det J_T)\int_U\omega$$Intuitively there is only an extra sign term without scaling value because the latter is already encapsulated within the expression $T^*\omega$.
## Stokes' theorem
**Theorem**: given $M=\mathbb R^m$ or $M=\mathcal H^m=\set{x\in\mathbb R^m:x^m\ge0}$, for $\omega\in\Omega_c^{m-1}(M)$ we have $$\int_Md\omega=\int_{\partial M}\omega$$**Proof**: for $M=\mathbb R^m$ we have $\partial M=\varnothing$, hence RHS equals $0$, while write $$\omega=\sum_{i=1}^k(-1)^{i-1}f_idx^1\wedge\cdots\wedge \widehat{dx^i}\wedge\cdots dx^k\quad\Longrightarrow\quad d\omega=\left(\sum_{i=1}^k\partial_if_i\right)dx^1\wedge\cdots\wedge dx^k$$Hence we can apply Fubini's theorem ([[Riemann Integral]]) and use compactness assumption to conclude, via the fundamental theorem of calculus, that $$\int_{\mathbb R^m}d\omega=\sum_i\int_{\mathbb R^m}\partial_if_idx^1\cdots dx^m=0=\int_{\partial \mathbb R^m}\omega$$For $M=\mathcal H^m$, the above process carries over except $\partial_mf_mdx^1\cdots dx^m$. Again by FTC we get $$\int_{\mathcal H^m}d\omega=\int_{\mathbb R^{m-1}}-f_k(x_1,\cdots,x_{k-1},0)dx^1\cdots dx^{k-1}$$Meanwhile, since $\partial\mathcal H^m\cong\mathbb R^{m-1}$ and $dx^m=0$ on this boundary, the only term that does not vanish on the boundary is the one without $dx^m$, which is $$\omega=(-1)^{m-1}f(x_1,\cdots,x_{m-1},0)dx^1\wedge\cdots\wedge dx^{m-1}\quad\Longrightarrow\quad\int_{\partial\mathcal H^k}\omega=(-1)^k\int_{\mathbb R^{m-1}}\omega=\int_{\mathcal H^m}d\omega$$This completes the second case, as well as the proof of the theorem.
- **Intuition**: the above proof illustrates the intuition for generalized Stokes' theorem quite well - it's essentially using Fubini's theorem ([[Lebesgue Integral]]) to break an multi-integral into repeated integral, and then use FTC ([[Differential Calculus on Euclidean Space]]) to bridge between differential forms and boundary operators. Note however that what we state above is just **one proof strategy**, not the **fundamental mechanism**. Further insights is discussed below.
### Interpretation under homological algebra
Consider the [[Chain Complex]] $C_*(M)$ with boundary $\partial$ ([[Singular Homology]]) $$\cdots\to C_{n+1}(M)\xto{\partial}C_n(M)\xto{\partial} C_{n-1}(M)\to\cdots$$and differential forms $\Omega^*(M)$ with exterior derivative $d$ ([[Exterior Algebra]]) $$\cdots\to\Omega^{n-1}(M)\xto{d}\Omega^n(M)\xto{d}\Omega^{n+1}(M)\to\cdots$$If we define the natural paring by $$\braket{\cdot,\cdot}:C_k(M)\times \Omega^k(M)\to\mathbb R,\quad\braket{c,\omega}\mapsto\int_c\omega$$then the generalized Stokes' theorem essentially says that $$\braket{\partial c,\omega}=\braket{c,d\omega}$$so integration defines a chain map (morphism of complexes), inducing a pairing on homology and cohomology. Further notice that:
1. If $c$ is boundary with $c=\partial b$, then for any $d\omega=0$ we have $$\int_c\omega=\int_{\partial b}\omega=\int_bd\omega=\int_b0=0$$so the integral vanishes on boundaries when the form is closed. 
2. If $\omega$ is exact with $\omega=d\mu$, then for any $\partial c=0$ we have $$\int_c\omega=\int_cd\mu=\int_{\partial c}\mu=\int_0\mu=0$$so a closed chain integrates to zero against every exact form.
So we obtain a bilinear paring on homology and de Rham cohomology [[De Rham Cohomology]]: $$H_k(M,\mathbb R)\times H_\text{dR}^k(M)\to\mathbb R,\quad([c],[\omega])\mapsto\int_c\omega$$That is the explicit passage: Stokes is the technical identity that makes the quotienting (mod boundaries / mod exact forms) legitimate.
- **General definition**: integral is natural transformation ([[Category]]) of a functor sub-manifolds, to de Rham functor of currents. With contravariant dual functor an integral equivalently can be seen as natural transformation of de Rham functor of differential forms to a functor of measures. (ref: *Stokes law is a chain morphism. Integral is a natural transformation of functors* by Zbigniew Oziewicz)
- **Geometric measure theory**: Stokes holds for very rough domains (Lipschitz manifolds, normal currents), far beyond classical Fubini settings. The theorem is built into the axioms of integration on currents.