Given [[Smooth Manifold]] $M$ of dimension $m\in\mathbb N$, a **derivation (tangent vector)** at $p$ is a linear map on the germ ([[Smooth Map]]) $D:C_p^\infty(M)\to\mathbb R$ satisfying the **Leibniz rule** $$D(fg)=(Df)g+f(Dg),\quad\forall f,g\in C_p^\infty(M)$$The collection of point derivations at $p$ is called the **tangent space** $T_pM$. 
- **Motivation**: for generalization of [[Modern Calculus on Euclidean Space]] to general smooth manifold we have to first find a suitable local linear approximation at each point on the manifold. While this can be done directly via local curve, it's better to start with algebraic assumption to emphasize its independence on local coordinate, i.e., the Leibniz rule. 
- **Basis**: given chart $(U,\phi)$ of $M$, applying corollary of chain rule (below) to $\phi$ we have $$d\phi:T_pU\to T_{\phi(p)}\mathbb R^m$$ being a isomorphism, therefore the basis translates naturally: $$T_pU=\span\paren{\partial_i}$$This allows for practical computations. 
	- **Transition matrix**: the transition between two coordinates is given by $$\frac{\partial}{\partial x^i}=\sum_j\frac{\partial y^j}{\partial x^i}\frac{\partial}{\partial y^j}$$by linearity and duality of coordinates.
## Differential of a map
For [[Smooth Map]] $F\in C^\infty(M,N)$ its **differential at $p$** is defined as $$dF:T_pM\to T_{F(p)}N,\quad (dF(X_p))f=X_p(f\circ F)\in\mathbb R,\quad\forall f\in C_{F(p)}^\infty(N),X_p\in T_pM$$By definition $dF$ is linear. We sometimes denote it as $F_*$ instead of $dF$ because it's a pushforward that turns a vector field into another. 
- **Intuition**: differential is the best local linear approximation of $F$. It generalizes the intuition in [[Modern Calculus on Euclidean Space]] directly to the manifold settings in a formal way. 
- **Chain rule**: given $F\in C^\infty(M,N),G\in C^\infty(N,P)$ we have $$d(G\circ F)=dG\circ dF$$which can be derived directly from definition. If $F$ is diffeomorphic ([[Smooth Map]]) then there exists $G=F^{-1}$, and by chain rule we have $$dG\circ dF=d(G\circ F)=\id_p,\quad dF\circ dG=d(F\circ G)=\id_{F(p)}$$Therefore hence $dF$ is a **isomorphism**. 
- **Jacobian**: set local coordinates as $T_pM=\span(\partial_{x^i}),T_{F(p)}N=\span(\partial_{y^i})$, then the Jacobian of $F$ w.r.t these two local charts is defined as $$J_F=\paren{\pard{F^i}{x^j}}_{1\le i\le n}^{1\le j\le m}$$This matrix measures how partial derivatives translates. 
- **Immersion & submersion**: $F\in C^\infty(M,N)$ is said to be an immersion if $dF$ is injective, and a submersion if $dF$ is surjective. 
	- **Intuition**: since $F_*$ is describes localized linear correspondence, immersion essentially says that different directions on $M$ corresponds to different directions on $N$, while submersion essentially says that the entire neighborhood on $N$ is covered.
	- **Dimension comparison**: when $F$ is a submersion by surjectivity we have $m\ge n$.
- **Rank**: $\rank F(p)$ is defined to be the rank of $F_*|_p$. Obviously $\rank F(p)=\rank J_F(p)$.
- **Critical point**: $p\in M$ is a critical point of $F$ if $F_*|_p$ is not surjective, with $F(p)$ the **critical value**, otherwise it's called a regular point/value.
	- **Intuition**: critical point can be viewed as a "boundary point", since there are directions on $N$ along which $F$ cannot reach.
	- **Rank condition**: by the result on submersion we know that $p$ is regular if $\rank J_F=n$, which itself requires $m\ge n$.
	- **Partial differential condition**: for $f:M\to\mathbb R$, $p\in M$ is a critical point iff $\partial_if=0,\forall i$, since $\dim\mathbb R=1$, hence the only way for $f$ not to be surjective is being constant. This easily generalizes to $\mathbb R^d$ via rank condition. 
## Differential calculus on manifold with boundary
As discussed in [[Topological Manifold#Manifold with boundary]], most definitions translates directly to this case. Several new concepts is needed for integration theory:
- **Outward-pointing vector field**: for $p\in M$ a boundary point we say that $X_p\in T_pM$ is inward-pointing if $X_p\notin T_p(\partial M)$ and is the velocity of some curve that lies entirely within $M$, and outward-pointing if $-X_p$ is inward-pointing.
	- **Existence**: we can pick $\partial_m$ on each $U_\alpha$, and use a partition of unity ([[Smooth Manifold]]) to construct a smooth outward-pointing vector field on $\partial M$. 