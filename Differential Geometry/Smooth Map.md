Given [[Smooth Manifold]] $M,N$ of dimension $m,n$, **smoothness** of function ([[Relation]]) $F:M\to N$ is defined, based on that of [[Function on Euclidean Space]], by $$F\in C^\infty(M,N)\qiffq\forall p\in M\ \exists(U_p,\phi),(V_{F(p)},\psi)\ \st\ \psi\circ F\circ\phi^{-1}\in C^\infty(\mathbb R^m,\mathbb R^n)$$Since the definition is independent of chart, it actually suffices to check smoothness of indued function for all pair of charts within $\mathfrak A\times\mathfrak B$. 
- **Germ**: following [[Modern Calculus on Euclidean Space]] we define $C_p^\infty(M,N)$ as the collection of germs at $p$. 
	- **Germ of smooth function**: we usually abbreviate the germ of smooth functions on $M$ as $C_p^\infty(M,\mathbb R)=C_p^\infty(M)$. 
- **Properties**
	- **Transitivity**: by compatibility of charts we have $$F\in C^\infty(M,N),G\in C^\infty(N,P)\imply G\circ F\in C^\infty(M,P)$$This is useful sometimes. 
	- **Smoothness of vector-valued function**: given $f:M\to\mathbb R^d$, then $$f\in C^\infty\paren{M,\mathbb R^d}\qiffq f^i\in C^\infty(M,\mathbb R),\forall 1\le i\le d$$which follows from definition of smoothness in [[Differential Calculus on Euclidean Space]]. 
	- **Smoothness verification by forward composition**: for $F:M\to N$, if $N$ has an atlas $$\mathfrak B=\set{(V,\psi)=(V,y^1,\cdots,y^n)}\quad\st\quad\psi\circ F\in C^\infty(M,\mathbb R^n),\forall\psi$$Then consider the diagram
	  <p align="center"><img align="center" src="https://i.upmath.me/svg/%0A%5Cbegin%7Btikzcd%7D%0AM%20%5Carrow%5Bd%2C%20%22%5Cphi%22'%5D%20%5Carrow%5Br%2C%20%22F%22%5D%20%5Carrow%5Brd%2C%20%22%5Cpsi%5Ccirc%20F%22%5D%20%26%20N%20%5Carrow%5Bd%2C%20%22%5Cpsi%22%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%26%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%5C%0A%5Cmathbb%20R%5Em%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%26%20%5Cmathbb%20R%5En%20%5Carrow%5Br%2C%20%22%5Ctext%7Bid%7D%22%5D%20%26%20%5Cmathbb%20R%5En%0A%5Cend%7Btikzcd%7D%0A" /></p>
	  Now $\psi\circ F\in C^\infty(M,\mathbb R^n)$ implies $\psi\circ F\circ\phi^{-1}\in C^\infty(\mathbb R^m,\mathbb R^n)$, which further implies $F\in C^\infty(M,N)$. By similar reasoning as above we know that this is further equivalent to $y^i\circ F\in C^\infty,\forall i$. 
- **Diffeomorphism**: a diffeomorphism is a smoothly invertible smooth map: $$F\in \diff(M,N)\qiffq F\in C^\infty(M,N),F^{-1}\in C^\infty(N,M)$$Diffeomorphism is the manifold version of isomorphism. Note that $\diff(M,N)$ forms a [[Group]] under composition. 
	- **Diffeomorphism to [[Euclidean Space]]**: a local map $F:U\to\mathbb R^m$ is a diffeomorphism iff $(U,F)$ is a chart in the differentiable structure of $M$.
	  **Proof**: $(\Leftarrow)$ is trivial by viewing $\mathbb R^m$ as a manifold with one single chart $(\mathbb R^m,\id)$; for $(\Rightarrow)$ given $(U_\alpha,\phi_\alpha)\in\mathfrak A$ we have $\phi_\alpha,\phi_\alpha^{-1}\in C^\infty$ by definition, hence $F\circ\phi_\alpha^{-1},\phi_\alpha\circ F^{-1}\in C^\infty$, which means $(U,F)$ is compatible with $(U_\alpha,\phi_\alpha)$, then by maximality we have $(U,F)\in\mathfrak A$.
	- **Identification of manifold structures**: two manifold structures (different non-maximal atlases) are considered the same if they're diffeomorphic. For instance, for [[Vector Space]] with $\dim V<\infty$ the group $\gl(V)$ ([[Group Gallery]]) could be endowed with $$\phi_e:\gl(V)\to\gl(n,\mathbb R),\quad\left(e_i\mapsto\sum_ia_j^ie_i\right)\mapsto[a_j^i]$$If we denote this group as $\gl(V)_e$, and choose another basis $u=(u^i)$ to get $\gl(V)_u$, then the basis transform matrix $u=Ae$ is a diffeomorphism between two structures, hence $\gl(V)_e,\gl(V)_u$ are regarded the same. 
## Partial derivative of smooth function
Denote $r^i$ the standard coordinate in $\mathbb R^m$, and $x^i$ the local coordinate system $\phi$ for $M$ given by $$x^i=r^i\circ\phi,\quad\forall 1\le i\le m$$The **partial derivative** of $f\in C^\infty(M)$ at $p\in M$ is defined as $$\left.\pard{}{x^i}\right|_pf=\pard{(f\circ\phi^{-1})}{r^i}(\phi(p))=\left.\pard{}{r^i}\right|_{\phi(p)}(f\circ\phi^{-1})$$Notice that we can write $$\frac{\partial f}{\partial x^i}(\phi^{-1}(\phi(p)))=\frac{\partial (f\circ\phi^{-1})}{\partial r^i}(\phi(p))\quad\Longrightarrow\quad\frac{\partial f}{\partial x^i}\circ\phi^{-1}=\frac{\partial (f\circ\phi^{-1})}{\partial r^i}$$hence $\partial f/\partial x^i$ is $C^\infty$ since its pullback $(\partial f/\partial x^i)\circ\phi^{-1}$ is $C^\infty$ on $\phi(U)$. Below we'll simply denote the partial derivative as $\partial_if$. 
- **Duality**: by definition we can verify the duality relation $$\partial_i x^j=\delta_i^j,\quad\forall i,j$$Therefore $\partial_i$ is the dual system of $x^i$ ([[Algebraic Dual Space]]). 
- **Jacobian**: for smooth $F:(U,\phi)\to(V,\psi)$, denote $F^i=y^i\circ F=r^i\circ\psi\circ F$ the $i$-th component of $F$ in $(V,\psi)$, then its **Jacobian matrix** relative to $(U,\phi),(V,\psi)$ is defined as define $$J_F=\paren{\partial_j F^i}_{m\times n}$$This generalizes that in [[Differential Calculus on Euclidean Space]], enabling many of the results there to be carried over here. 
	- **Directional derivative**: when $F\in C^\infty(M,\mathbb R)$ the Jacobian matrix degenerates to the gradient in [[Differential Calculus on Euclidean Space]], which allows us to further define directional derivatives in [[Christoffel Symbols on Surface]]. 
- **Inverse function theorem**: for $F\in C^\infty(M,N)$ with $m=n$, set $F^i=y^i\circ F$, then $F$ is a local diffeomorphism iff $\det J_F\neq0$.
  **Proof**: notice that by definition $$\partial_j F^i(p)=\frac{\partial(r^i\circ\psi\circ F)}{\partial x^j}(p)=\frac{\partial(r^i\circ\psi\circ F\circ\phi^{-1})}{\partial r^j}(\phi(p))$$which is the Jacobian of $$\psi\circ F\circ\phi^{-1}:\mathbb R^n\supset\phi(U)\to\psi(V)\subset\mathbb R^n$$hence by inverse function theorem in [[Differential Calculus on Euclidean Space]], $\det J_F\neq0$ iff $\psi\circ F\circ\phi^{-1}$ is locally invertible at $\phi(p)$, and since both $\phi,\psi$ are diffeomorphisms this is further equivalent to $F$ being a local diffeomorphism.
	- **Corollary**: since coordinate chart is equivalent to a local diffeomorphism, we know that $F^i$ defined on a coordinate neighborhood $(U,x^i)$ forms a local coordinate system iff $\det J_F\neq0$.