The **tangent bundle** of [[Smooth Manifold]] $M$ is the union of all tangent spaces ([[Differential Calculus on Smooth Manifold]]): $$TM=\bigcup_{p\in M}T_pM$$It's trivial that $TM\xto\pi M$ with the canonical projection is a [[Vector Bundle]]. 
- **Topology structure**: for a chat $(U,\phi)=(U,x^1,\cdots,x^m)$ any $v\in TU$ can be represented as a unique linear combination $v=\sum c^i(v)\partial_i$. let $\overline x^i=x^i\circ\pi$, and define $$\overline\phi:TU\to\phi(U)\times\mathbb R^m,\quad v\mapsto(\phi(p),\phi_*(v))=(\overline x^1,\cdots,\overline x^m,c^1,\cdots,c^m)(v)$$then it's obvious that $\overline\phi$ is bijective with the inverse $$\overline\phi^{-1}:(\phi(p),c^1,\cdots,c^m)\mapsto\sum_i c^i\partial_i|_p$$Now consider the topology $\mathcal T_{TU}$ induced by $\overline\phi$ from the standard topology on $\mathbb R^{2m}$, then $\overline\phi$ becomes a homeomorphism by definition ([[Topological Space]]). Now let $$\mathcal B=\bigcup_{\alpha}\mathcal T_{TU_\alpha}$$then it can be easily verified that $\mathcal B$ qualifies as a basis ([[Topological Space]]). We define $\mathcal T_{TM}$ as the topology generated by $\mathcal B$.
	- **Second countability**: $M$ has a countable basis consisting of coordinate neighborhoods since we can pick $p\in B_{p,\alpha}\subset U_\alpha$ for each $p\in M,U_\alpha\in\mathfrak A$ from a countable basis $\set{B_i}$. Denote the basis as $\set{U_i}$, then $TU_i$ is also second countable since $TU_i\cong\phi(U_i)\times\mathbb R^m$. Hence we can conclude that $TM$ is second countable.
	- **Hausdorff**: it's obvious by definition that $TM$ is Hausdorff under $\mathcal T_{TM}$ ([[Separation Axioms]]).
- **Manifold structure**: $\set{(TU_\alpha,\overline\phi_\alpha)}$ is a $C^\infty$ atlas for $TM$.
  **Proof**: we only need to check that $\overline\phi_\alpha,\overline\phi_\beta$ are $C^\infty$ compatible. For $p\in U_\alpha\cap U_\beta$ there are two descriptions for $v\in T_pM$: $$v=\sum a^i\partial_{i,\alpha}|_p=\sum b^j\partial_{j,\beta}|_p\quad\Longrightarrow\quad b^j=\sum_ia^i\partial_iy^j=\sum_ia^i\frac{\partial(\phi_\beta\circ\phi_\alpha^{-1})^j}{\partial r^i}(\phi_\alpha(p))$$Now that the transition function $$\overline\phi_\beta\circ\overline\phi_\alpha^{-1}:\overline\phi_\alpha(U_\alpha\cap U_\beta)\times\mathbb R^m\to\overline\phi_\beta(U_\alpha\cap U_\beta)\times\mathbb R^m$$is given explicitly by $$(\phi_\alpha(p),a^1,\cdots,a^m)\mapsto\left(p,\sum_i a^i\partial_i|_p\right)\mapsto((\phi_\beta\circ\phi_\alpha^{-1})(\phi_\alpha(p)),b^1,\cdots,b^m)$$hence by the relation above and definition of atlas we have $\overline\phi_\beta\circ\overline\phi_\alpha^{-1}\in C^\infty$, and the same applies to the symmetric case. This completes the proof.
## Vector field
A **vector field** on $M$ a section of $TM$. The vector field is smooth is the section is. Collection of smooth vector fields on $M$ is denoted $\mathfrak X(M)$. 
- **Characterization of $\mathfrak X(M)$**: smoothness can be characterized by: 
	- **Chart**: for $(U,x^1,\cdots,x^m)$ a vector field $X=\sum a^i\partial_i$, then $X\in\mathfrak(U)\iff a^i\in C^\infty(U)$, as a corollary of characterization of smooth section ([[Vector Bundle]]).
	- **Coefficient**: $X\in\mathfrak X(M)\iff X\in \mathfrak X(U),\forall U\in\mathfrak A$, as a corollary of the first result.
	- **Functions**: $X\in\mathfrak X(M)\iff Xf\in C^\infty(M),\forall f\in C^\infty(M)$. $\Rightarrow$ is obvious, while $\Leftarrow$ follows from testing $X$ on each $\tilde x^i$ and invoking the second result, where $\tilde x^i$ is a smooth extension of $x^i$ ([[Smooth Manifold]]).
- **Integral curve**: an integral curve of $X\in\mathfrak X(M)$ is a smooth curve $c:(a,b)\to M$ s.t. $$c'(t)=X_{c(t)},\quad\forall t\in (a,b)$$We sometimes require $0\in(a,b)$, and write $c(t)=c_t(p),p=c(0)$ to illustrate the initial point.
	- **Maximal integral curve**: $c$ is maximal if its domain cannot be extended.
- **Local flow**: given $(U,x^i),X=\sum a^i\partial_i$ and an integral curve $c$ by [[Smooth Manifold]] we have $$X_{c(t)}=\sum a^i(c(t))\partial_i|_{c(t)},\quad c'(t)=\sum\frac{d(x^i\circ c)}{dt}(t)\partial_i|_{c(t)}$$hence by definition of integral curve we have $$X_{c(t)}=c'(t)\quad\iff\quad \frac{d(x^i\circ c)}{dt}=a^i(c),\quad\forall i$$which is a [[Linear ODE System]], hence we can invoke related theories to prove existence and uniqueness of solution $F_t(p)$ with $F_t(F_s(p))=F_{t+s}(p)$. We call $F$ the **local flow generated by the vector field $X$**, and any $F_t(p)$ a **flow line**. 
	- **Formal definition**: a local flow about a point $p$ in $U$ is a $C^\infty$ function $F:(-\varepsilon,\varepsilon)\times W\to U$ where $\varepsilon>0,p\in W\subset U$ s.t., writing $F_t(p)=F(t,p)$, we have $$F_0(p)=p,\forall p\in W,\quad (F_t\circ F_s)(p)=F_{t+s}(p)$$It's obvious that one can recover a vector field from a local flow by $X_p=\partial_tF(0,p)$.
	- **Global flow**: $F$ is defined on $\mathbb R\times M$ is called a global flow. A global flow does not always exist, and when it does we say that $X$ is a **complete vector field**. In this case notice that $F_t\circ F_{-t}=F_{-t}\circ F_t=\id_M$, we have that $F_t\in\diff(M)$.
- **Lie bracket**: for $X,Y\in\mathfrak X(M),f,g\in C^\infty(M,\mathbb R)$ we have that $$XY(fg)=(XYf)g+(Yf)(Xg)+(Xf)(Yg)+f(XYg)$$Observe that two extra terms $(Yf)(Xg)+(Xf)(Yg)$ prevents $XY$ from being a derivation. Hence it's natural to try to cancel them out in the following way: define the Lie bracket $$[X,Y]_p=X_pY-Y_pX\in\mathfrak X_p$$it's easily seen that $[X,Y]$ is a derivation.
	- **Jacobi identity**: given $X,Y,Z$ we have $\sum_{\text{cyc}}[X,[Y,Z]]=0$.
- **Related vector field**: we say that $X\in\mathfrak X(N)$ is $F$-related to $Y\in\mathfrak X(M)$ if $$F_*(X_p)=Y_{F(p)},\quad\forall p\in M\quad\iff\quad X(g\circ F)=(Yg)\circ F,\quad\forall g\in C^\infty(N)$$The equivalence is just a direct interpretation of definition.
	- **Motivation**: given $F\in C^\infty(M,N)$ and $X\in\mathfrak X(M)$ we call $F_*(X_p)$ the **pushforward** of $X_p$ at $p$. This doesn't generalize to the entire $X$ in general, since there might be cases where $F(p)=F(q),p\neq q$ while $F_*(X_p)\neq F_*(X_q)$, and there is no reason to prefer any one of them.
	- **Related Lie bracket**: if $X,Y$ are $F$-related to $\overline X,\overline Y$, then $[X,Y]$ is $F$-related to $[\overline X,\overline Y]$.
## Covariant derivative
An **covariant derivative (affine connection)** on $M$ is defined as a [[Bilinear Form]] $$\nabla:\Gamma(TM)\times\Gamma(TM)\to\Gamma(TM),\quad (X,Y)\mapsto\nabla_XY$$Satisfying two conditions:
1. **$C^\infty(M,\mathbb R)$-linearity**: we have $$\nabla_{fX}Y=f\nabla_XY,\quad\forall f\in C^\infty(M,\mathbb R)$$That is, it's linear in the first variable over all smooth functions ([[Smooth Map]]),
2. **Leibniz rule**: it satisfies the Leibniz rule in the second variable: $$\nabla_X(fY)=(\nabla_Xf)Y+f\nabla_XY$$where $\nabla_Xf$ indicates the directional derivative ([[Smooth Map]]). 
Note that these two axiom implies that value of $\nabla_XY$ at $p$ depends only on value of $X$ at $p$ and $Y$ on some neighborhood of $p$, not on other values. Generalization to [[Vector Bundle]] can be found in [[Covariant Derivative]]. 
- **Motivation example**: consider a [[Smooth Surface]] $M=S$ and its tangent bundle $TS$. A canonical choice of covariant derivative is $$\nabla_XY=\operatorname{proj}_{T_pS}\nabla_X(Y\circ\gamma)(0)$$where $\gamma$ is smooth curve on $S$ with $\gamma(0)=p,\|\gamma'(0)\|=\|X\|$. We can specify the value of the covariant derivative because we have the inherent embedding into the ambient space $S\subseteq\mathbb R^3$, hence vectors on different tangent spaces can be identified directly; in general such ambient space is not desired, hence resulting in the abstract definition above. 