A **smooth ($C^\infty$) manifold** is a [[Topological Manifold]] $M$ together with a maximal $C^\infty$ atlas $\mathfrak A$. Here $\mathfrak A$ is also called a **smooth structure** on $M$. 
- **Motivation**: maximal atlas always exists, but it's just a matter of convenience for definition. At the end we do not care about maximality of atlas, but rather the geometric and topological properties of the manifold itself. Note that this definition is not even suitable for proving or disproving a topological space to be a smooth manifold.
## Submanifold
Given manifold $M$ with dimension $m$ a subset $S\subset M$ is a **regular submanifold** of dimension $k$ if for each $p\in S$ there exists **adapted chart** $(U,\phi)=(U,x^i)\ni p$ of $M$ s.t. $U\cap S$ is defined via vanishing of $m-k$ coordinates . Notice that existence of adapted chart at each point makes $S$ also a manifold.
- **Choice of coordinates**: as discussed in [[Topological Manifold]], there is no canonical choice of coordinate in each chart across $\mathfrak A$. Hence we can assume the vanishing coordinates to be $x^{k+1},\cdots,x^m$ by reordering.
- **Level set**: given $F:M\to N$ the level set of $c$ is $F^{-1}(c)$. It's said to be a regular level set if $c$ is a regular value ([[Differential Calculus on Smooth Manifold]]). $Z(F)=F^{-1}(0)$ is called the **zero set**.
	- **Regular level set theorem**: for $F\in C^\infty(M,N)$ any non-empty regular level set $F^{-1}(c)$ is a regular submanifold of dimension $m-n$.
	  **Proof**: choose $(V,\psi)=(V,y^j)$ a chart centered at $c$, then $F^{-1}(c)=(\psi\circ F)^{-1}(0)$. By regularity and non-emptiness of level set we have $n\ge m$. Now pick any $p\in F^{-1}(c)$, and a coordinate neighborhood $(U,\phi)=(U,x^i)$ with $U\subset F^{-1}(V)$, then $\rank J_F=m$, hence we can assume by re-numbering that $[\partial F^j/\partial x^i]_{m\times m}$ is non-singular. Notice that $$(U,\phi')=(U,F^1,\cdots,F^n,x^{n+1},\cdots,x^m),\quad\det J_{\phi'}=\det\begin{bmatrix}\frac{\partial F^j}{\partial x_i}&*\\0&I\end{bmatrix}\neq0$$by inverse function theorem $\phi'$ is a diffeomorphism, hence a coordinate system. Now in the adapted chart $(U,\phi')$ the set $S=F^{-1}(c)$ is obtained by setting $F^j=0$, so $S$ is a submanifold by definition.
		- **Intuition**: regularity of $c$ ensures that $F$ behaves quite well in $(V,\psi)\ni c$, hence the pre-image of $c$ is naturally defined via vanishing of coordinates that are mapped to $(V,\psi)$.
		- **Only sufficiency**: the theorem only provide a sufficient condition for a level set to the a regular submanifold, not necessary, e.g. $f:\mathbb R^2\to\mathbb R$ by $f(x,y)=y^2$.
		- **Graph of smooth function**: for $F\in C^\infty(\mathbb R^m,\mathbb R^n)$ its graph $\Gamma(F)=(x,f(x))\subset\mathbb R^{m+n}$ is a submanifold since we can consider $G(x,y)=y-f(x)$, then $\Gamma(F)=G^{-1}(0)$.
- **Transversality theorem**: $F\in C^\infty(M,N)$ is transversal to submanifold $S\subset N$ if $$F_*(T_pM)+T_{F(p)}S=T_{F(p)}N,\quad\forall p\in F^{-1}(S)$$Given $F$ transversal when $S$ is a regular submanifold of codimension $k$ in $N$ then $F^{-1}(S)$ is a regular submanifold of codimension $k$ in $N$.
  **Proof**: for $p\in F^{-1}(S)$ consider the adapted chart $(V,y^1,\cdots,y^n)$ of $N$ w.r.t $S$. Assume that $V\cap S=Z(y^{n-k+1},\cdots,y^n)$, and define $$G: V\to\mathbb R^k,\quad G=(y^{n-k+1},\cdots,y^n)$$then $F^{-1}(V)\cap F^{-1}(S)=F^{-1}(V\cap S)=(G\circ F)^{-1}(0)$, Meanwhile, transversality implies $$\partial_{y^j}\in F_*(T_pM),\quad\forall n-k+1\le j\le n$$hence by chain rule $(G\circ F)_*=G_*\circ F_*$ we have $(G\circ F)_*$ surjective, showing $0$ a regular value. The desired result follows from the regular level set theorem.
	- **Intuition**: when $S=c$ a single point we have $k=n$, and the transversality theorem degenerates to the regular level set theorem. Intuitively transversing a point means covering the entire coordinate system near $F(p)$, which is equivalent to covering the entire tangent space.
- **Constant rank theorem**: given $F\in C^\infty(M,N)$, if $\rank F=k$ ([[Differential Calculus on Smooth Manifold]]) in a neighborhood of $p\in M$, then there exists $(U,\phi)$ centered at $p$ and $(V,\psi)$ centered at $F(p)$ s.t. $$(\psi\circ F\circ\phi^{-1})(r^1,\cdots,r^m)=(r^1,\cdots,r^k,0,\cdots,0)$$**Proof**: choose charts $(U,\overline\phi),(V,\overline\psi)$ centered at $p,F(p)$, then we have $\rank(\psi\circ F\circ\phi^{-1})=k$. Now it suffices to prove the theorem for $M=\mathbb R^m,N=\mathbb R^n$, which is obvious via Gaussian elimination ([[Solving Linear System]]) or [[Singular Value Decomposition]] of the Jacobian. When proper $G,H$ is chosen we can take $\phi=G\circ\overline\phi,\psi=H\circ\overline\psi$.
	- **Constant rank level set theorem**: in the above settings if $\rank F=k$ in a neighborhood of $F^{-1}(c)$ then $F^{-1}(c)$ is a regular submanifold of $M$ of codimension $k$. This follows directly from the above result and definition of regular submanifold.
	- **Immersion/submersion theorem**: since immersion/submersion has constant rank, as direct corollaries, an immersion can always be represented as $$(\psi\circ F\circ\phi^{-1})(r^1,\cdots,r^m)=(r_1,\cdots,r^m,0,\cdots,0),\quad m\le n$$while a submersion can always be represented as $$(\psi\circ F\circ\phi^{-1})(r^1,\cdots,r^m)=(r_1,\cdots,r^n),\quad m\ge n$$It's immediately obvious that a submersion is a open map. Notice that the regular level set theorem can be seen as a corollary of the submersion theorem.
- **Embedding**: $F\in C^\infty(M,N)$ is an embedding if it's an immersion, and $F(M)$ with the subspace topology inherited from $N$ is homeomorphic to $M$ under $F$ [[Topological Space]].
	- If $F$ is an embedding, then $F(N)$ is a regular submanifold. 
	  **Proof**: pick $(U,x^1,\cdots,x^m),(V,y^1,\cdots,y^n)$ containing $p,F(p)$. Since $F$ is homeomorphic $F(U)$ is open in $N$, hence by definition of subspace topology ([[Topological Space]]) there exists $V'$ s.t. $V'\cap F(N)=F(U)$. Now that $$V\cap V'\cap F(N)=V\cap F(U)=F(U)$$by the immersion theorem $F(U)$ has the adapted chart $(V\cap V',y^1,\cdots,y^n)$ and is defined by vanishing of $y^{m+1},\cdots,y_n$, hence $F(N)$ is a regular submanifold.
	- If $N\subset M$ is a regular submanifold, then the inclusion $\iota:N\to M$ is an embedding. This is because $\iota$ preserves the subspace topology, and is obviously an immersion.
- **Immersed submanifold**: the image of a bijective immersion $f$ ([[Differential Calculus on Smooth Manifold]]), together with the topology and differentiable structure inherited from $f$, is called the immersed submanifold. Notice that an immersed submanifold is generally not a submanifold.
## Other info
- **$C^\infty$ bump function**: obviously $f(t)=e^{-1/t}\chi_{(0,\infty)}$ is smooth on $\mathbb R$ and vanishes on $[-\infty,0]$. Let $$g(t)=\frac{f(t)}{f(t)+f(1-t)}\in C^\infty$$which is well defined and looks like a smooth step function. Further consider $$h(x)=g\left(\frac{x-a}{b-a}\right)\in C^\infty,\quad a<b\quad\Longrightarrow\quad h(x)=\begin{cases}0,&x\le a\\1,&x\ge b\end{cases}$$Finally let $\rho(x)=1-h(x^2)$, assuming $b>a>0$, then we get a bump function. For higher dimensions we only need to consider $\sigma(x)=\rho(\|x\|)$. This can easily be transferred to smooth manifold via coordinate system.
	- **$C^\infty$ extension of a function**: given $f\in C^\infty(U)$, although direct smooth extension of a given function do not generally exists (e.g. $\sec x$ on $(-\pi/2,\pi/2)$), it's possible if we only require them to agree on some neighborhood of a point $p\in U$. This can be done by taking a sufficiently small neighborhood and multiply $f$ with proper bump function $\rho(x)$.
- **Partition of unity**: a $C^\infty$ partition of unity is a collection $\set{\rho_\alpha\in C^\infty(M\to\mathbb R)}$ of non-negative functions s.t. $\supp\rho_\alpha$ is locally finite, and $\sum\rho_\alpha=1$. $\set{\rho_\alpha}$ is **subordinate** to the open cover $\set{U_\alpha}$ if $\supp\rho_\alpha\subset U_\alpha,\forall \alpha$.
	- **Locally finite sum**: by local finiteness the summation actually sum over only finitely many non-zero values at each point $p\in M$, hence is well-defined.
	- **Existence**: assuming compactness of $M$, for each $p\in M$ we pick a bump function $\psi_p$ centered at $p$ and a neighborhood $W_p$ s.t. $\psi_p>0,\forall x\in W_p$, and then pick a finite sub-cover of $\set{W_p}$, denoted $\set{W_i}$ with corresponding $p_i,\psi_i$. Now take $$\psi=\sum_i\psi_i,\quad\varphi_i=\frac{\psi_i}{\psi}$$Then $\varphi_i$ satisfies all the required properties. By re-indexing we can associate them with $\set{W_\alpha}$.
		- **General result**: given $\set{U_\alpha}$ a open cover of manifold $M$ there exists $C^\infty$ partition of unity $\set{\varphi_i}$ with $\supp\varphi_i$ compact, and $\supp\varphi_i\subset U_\alpha$ for some $\alpha=\alpha(i)$. If we do not require compact support then there exists a $C^\infty$ partition of unity $\set{\varphi_\alpha}$ subordinate to $\set{U_\alpha}$.
		- **Comparison with that in [[Topological Manifold]]**: for $X$ normal but not necessarily smooth we mainly uses the Urysohn lemma to construct a partition of unity. In smooth case general results relies on the smooth Urysohn lemma.