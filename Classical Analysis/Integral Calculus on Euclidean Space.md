In this note we discuss the general [[Riemann Integral]] on Euclidean space $\mathbb R^n$.
- **Mean value theorem**: given $f\in C([a,b])$ there exists $\xi\in[a,b]$ s.t. $$\int_a^bf(x)dx=f(\xi)(b-a)$$intermediate value property of continuous function.
	- **Generalized mean value theorem**: given $f\in C([a,b])$ and $g$ integrable that doesn't change sign, there exists $\xi\in[a,b]$ s.t. $$\int_a^bf(x)g(x)dx=f(\xi)\int_a^bg(x)$$We only need to replace the mean value theorem with its generalized version in the above proof to get the result.
- **Fundamental theorem of calculus (integration)**: given $f\in C([a,b])$ we have $$\frac{d}{dx}\int_a^xf(t)dt=f(x),\quad\forall x\in[a,b]$$**Proof**: by linearity of integral and mean value theorem we have that $$\text{LHS}=\lim_{h\to0}\frac{\int_x^{x+h}f(t)dt}{h}=\lim_{h\to0}\frac{hf(\xi)}{h}=f(\xi),\quad\xi\in[x,x+h]$$take $h\to0$ and by continuity we get the result.
## Integration by substitution (change of variable)
**Integration by substitution**: for $U\subset\mathbb R^n,f:U\to\mathbb R$ and an injective, continuously differentiable substitution function $\varphi:U\to\mathbb R^n$, we have $$\int_{\varphi(U)} f(v)dv=\int_U f(\varphi(u))|\det J_\varphi(u)|du$$The 1D case follows from the chain rule ([[Differential Calculus on Euclidean Space]]), and the proof of multivariate case can be found in [[Lebesgue Integral]].
Some useful formulas of substitution include: 
- **Cylindrical coordinate**: we make the substitution $$\begin{cases}x=r\cos\theta\\y=r\sin\theta\\z=z\end{cases} \quad\Longrightarrow\quad\frac{\partial(x,y,z)}{\partial(r,\theta,z)}=r$$
- **Spherical coordinate**: we make the substitution $$\begin{cases}x=r\sin\varphi\cos\theta\\y=r\sin\varphi\sin\theta\\z=r\cos\varphi\end{cases}\quad\Longrightarrow\quad\frac{\partial(x,y,z)}{\partial(r,\varphi,\theta)}=r^2\sin\varphi$$We can extends the coordinate into $\mathbb R^n$ as $$\begin{cases}x_1=r\cos\varphi_1\\x_2=r\sin\varphi_1\cos\varphi_2\\x_3=r\sin\varphi_1\sin\varphi_2\cos\varphi_3\\\cdots\cdots\\x_{n-1}=r\sin\varphi_1\cdots\sin\varphi_{n-2}\cos\varphi_{n-1}\\x_n=r\sin\varphi_1\cdots\sin\varphi_{n-2}\sin\varphi_{n-1}\end{cases}\quad\Longrightarrow\quad\frac{\partial(x_1,\cdots,x_n)}{\partial(r,\varphi_1,\cdots,\varphi_{n-1})}=r^{n-1}\sin^{n-2}\varphi_1\cdots\sin\varphi_{n-2}$$
- **Line integral of the first kind**: for a curve $s(t)=(x(t),y(t),z(t))$, we have $$\int_Lf(x,y,z)ds=\int_tf(x(t),y(t),z(t))\sqrt{{x'}^2(t)+{y'}^2(t)+{z'}^2(t)}dt$$
- **Surface integral of the first kind**: for a surface $\Sigma(x,y,z)=(x(u,v),y(u,v),z(u,v))$, we have$$\int_\Sigma f(x,y,z)dS=\int_\Sigma f(x(u,v),y(u,v),z(u,v))||\mathbf{r}_u(u,v)\times \mathbf{r}_v(u,v)||dudv$$when the parameterization is $z=z(x,y)$, the formula becomes $$\int_\Sigma f(x,y,z)dS=\int_\Sigma f(x,y,z(x,y))\sqrt{1+z_x^2+z_y^2}dxdy$$
## Integration by parts
By the product rule of [[Differential Calculus on Euclidean Space]] we have $$\int_a^b f'gdx+\int_a^bfg'dx=f(b)g(b)-f(a)g(a)$$where RHS is derived from the FTC. In general this is usually used in pair with Fubini's theorem ([[Riemann Integral]]) to exchange differential operators, such as those in [[PDE Gallery]].
- **Intuition**: if we look at the plane curve $(x,y)=(f(t),g(t))$, then the above equality reduces to a simple identity of area relation. 
- **Product of many functions**: if we apply the above reasoning to the general result of the product rule, then we can get $$\left.\left(\prod_{i=1}^nf_i\right)\right|_a^b=\sum_{i=1}^n\int_a^b\left(f_i'\prod_{j\neq i}f_j\right)dx$$This could sometimes be useful.
## Series expansion
- **Taylor series**: For any infinitely differentiable function we have its Taylor expansion $f(x)=\sum_{n=0}^\infty c_n(x-x_0)^n$ ([[Differential Calculus on Euclidean Space]]). We may evaluate the integral by $$\int_a^b f(x)dx=\int_a^b\sum_{n=0}^\infty c_n(x-x_0)^ndx=\sum_{n=0}^\infty\int_a^b c_n(x-x_0)^ndx$$However, for the above identity to hold we require:
	1. **Radius of convergence**: the integration domain should lie within the convergence circle. This means the function must be analytic within the integration domain.
	2. **Uniform convergence**: the series should converge uniformly to the function. This ensures that the order of integration and summation can be swapped.
		- For cases without uniform convergence, DCT can be applied to ensure that term-by-term integration remains valid. [[Lebesgue Integral]]
- **Fourier series**: see [[Fourier Series]].